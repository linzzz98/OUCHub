

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>1. Camera &mdash; OUCHub 0.1 æ–‡æ¡£</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/twemoji.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/language_data.js"></script>
        <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"></script>
        <script src="../../../../../_static/twemoji.js"></script>
        <script src="../../../../../_static/translations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="ç´¢å¼•" href="../../../../../genindex.html" />
    <link rel="search" title="æœç´¢" href="../../../../../search.html" />
    <link rel="next" title="2. VisibilityPyramid" href="../VisibilityPyramid/VisibilityPyramid.html" />
    <link rel="prev" title="Base" href="../../c_base.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> OUCHub
          

          
            
            <img src="../../../../../_static/logo_1.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="åœ¨æ–‡æ¡£ä¸­æœç´¢" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">åŸºç¡€çŸ¥è¯†</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge/k_MH.html">ğŸ’Š Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge/k_CV.html">ğŸ¤ Computer Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge/k_ML.html">ğŸ Machine Learning</a></li>
</ul>
<p class="caption"><span class="caption-text">è®ºæ–‡å­¦ä¹ </span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../paper/p_sfm.html">ğŸŠ Structure from Motion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../paper/p_pointcloud.html">ğŸ‹ Point Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../paper/p_others.html">ğŸ’ Others</a></li>
</ul>
<p class="caption"><span class="caption-text">æºç è§£æ</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../c_colmap.html">ğŸ‘ Colmap</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../c_base.html">Base</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1. Camera</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#camera-models">1.1. Camera_Models</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id1">1.1.1. ä¸åŒçš„ç›¸æœºæ¨¡å‹</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id2">1.1.2. ç›¸å…³å‡½æ•°</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id3">1.2. Camera</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id4">1.2.1. ç›¸å…³å‡½æ•°</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#camerarig">1.3. CameraRig</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id5">1.3.1. ç›¸å…³å‡½æ•°</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../VisibilityPyramid/VisibilityPyramid.html">2. VisibilityPyramid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Correspondence_graph/Correspondence_graph.html">3. Correspondence_graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cost_function/Cost_function.html">4. CostFunctions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Image/Image.html">5. Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Matrix/Matrix.html">6. Matrix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../c_estimator.html">Estimator</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">æ‚ä¸ƒæ‚å…«</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../others/o_others.html">ğŸº Others</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">OUCHub</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../c_colmap.html">ğŸ‘ Colmap</a> &raquo;</li>
        
          <li><a href="../../c_base.html">Base</a> &raquo;</li>
        
      <li><span class="section-number">1. </span>Camera</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/pages/code/colmap/base/Camera/Camera.rst.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="camera">
<h1><span class="section-number">1. </span>Camera<a class="headerlink" href="#camera" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<p>colmapçš„cameraæ–‡ä»¶å…±åˆ†ä¸ºï¼š</p>
<ul class="simple">
<li><p>camera</p></li>
<li><p>camera_models</p></li>
<li><p>camera_database</p></li>
<li><p>camera_rig</p></li>
</ul>
<div class="section" id="camera-models">
<h2><span class="section-number">1.1. </span>Camera_Models<a class="headerlink" href="#camera-models" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>è¯¥æ–‡ä»¶å®šä¹‰äº†å‡ ç§ä¸åŒçš„æ‘„åƒæœºå‹å·ï¼Œä¹Ÿå¯ä»¥æ·»åŠ ä»»æ„æ–°çš„æ‘„åƒæœºå‹å·ã€‚</p>
<p>ç›¸æœºæ¨¡å‹å¯ä»¥å…·æœ‰ä¸‰ç§ä¸åŒç±»å‹çš„ç›¸æœºå‚æ•°ï¼šç„¦è·ï¼Œä¸»ç‚¹ï¼Œé¢å¤–å‚æ•°(å¤±çœŸå‚æ•°)ã€‚å‚æ•°æ•°ç»„åˆ†ä¸ºä¸åŒçš„ç»„ï¼Œå› æ­¤å¯ä»¥åœ¨BAè°ƒæ•´æœŸé—´å¯ç”¨æˆ–ç¦ç”¨å•ä¸ªç»„çš„ä¼˜åŒ–ã€‚</p>
<p>ç›¸æœºæ¨¡å‹å¿…é¡»å…·æœ‰ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">WorldToImage</span></code>ï¼šå°†æ ‡å‡†åŒ–çš„æ‘„å½±æœºåæ ‡è½¬æ¢ä¸ºå›¾åƒåæ ‡(ä¸ImageToWorldç›¸å)ã€‚
å‡è®¾ä¸–ç•Œåæ ‡ä¸º(uï¼Œvï¼Œ1)ã€‚</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImageToWorld</span></code>ï¼šå°†å›¾åƒåæ ‡è½¬æ¢ä¸ºæ ‡å‡†åŒ–çš„æ‘„å½±æœºåæ ‡(ä¸WorldToImageç›¸å)ã€‚
äº§ç”Ÿä¸–ç•Œåæ ‡ä¸º(uï¼Œvï¼Œ1)ã€‚</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImageToWorldThreshold</span></code>ï¼šå°†ä»¥åƒç´ ä¸ºå•ä½çš„é˜ˆå€¼è½¬æ¢ä¸ºå½’ä¸€åŒ–çš„å•ä½(å¯¹äºé‡æŠ•å½±è¯¯å·®é˜ˆå€¼å¾ˆæœ‰ç”¨)ã€‚</p></li>
</ul>
<p>(æ¯å½“åˆ—è¡¨ä¸­æŒ‡å®šæ‘„åƒæœºå‚æ•°æ—¶ï¼Œå®ƒä»¬å¿…é¡»æŒ‰ç…§åœ¨å®šä¹‰çš„æ¨¡å‹ç»“æ„ä¸­è®¿é—®å®ƒä»¬æ—¶çš„é¡ºåºå‡†ç¡®æ˜¾ç¤ºã€‚)</p>
<p>æ‘„åƒæœºæ¨¡å‹éµå¾ªä»¥ä¸‹çº¦å®šï¼šå›¾åƒå·¦ä¸Šè§’çš„åæ ‡ä¸º(0ï¼Œ0)ï¼Œå³ä¸‹è§’çš„åæ ‡ä¸º(widthï¼Œheight)ï¼Œå³å·¦ä¸Šåƒç´ ä¸­å¿ƒçš„åæ ‡ä¸º(0.5ï¼Œ0.5)ï¼Œå³ä¸‹åƒç´ ä¸­å¿ƒçš„åæ ‡ä¸º(å®½åº¦-0.5ï¼Œé«˜åº¦-0.5)ã€‚</p>
<hr class="docutils" />
<div class="section" id="id1">
<h3><span class="section-number">1.1.1. </span>ä¸åŒçš„ç›¸æœºæ¨¡å‹<a class="headerlink" href="#id1" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 40%" />
<col style="width: 7%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>æ¨¡å‹</p></th>
<th class="head"><p>æè¿°</p></th>
<th class="head"><p>å‚æ•°æ•°é‡</p></th>
<th class="head"><p>å‚æ•°åˆ—è¡¨æ’åˆ—é¡ºåº</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SimplePinholeCameraModel</span></code></p></td>
<td><p>æ²¡æœ‰å¤±çœŸã€‚ ä»…å¯¹ç„¦è·å’Œä¸»è¦ç‚¹è¿›è¡Œå»ºæ¨¡</p></td>
<td><p>3</p></td>
<td><p>f, cx, cy</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PinholeCameraModel</span></code></p></td>
<td><p>æ²¡æœ‰å¤±çœŸã€‚ ä»…å¯¹ç„¦è·å’Œä¸»è¦ç‚¹è¿›è¡Œå»ºæ¨¡</p></td>
<td><p>4</p></td>
<td><p>fx, fy, cx, cy</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SimpleRadialCameraModel</span></code></p></td>
<td><p>å…·æœ‰ä¸€ä¸ªç„¦è·å’Œä¸€ä¸ªå¾„å‘å¤±çœŸå‚æ•°çš„ç®€å•ç›¸æœºæ¨¡å‹</p></td>
<td><p>4</p></td>
<td><p>f, cx, cy, k</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RadialCameraModel</span></code></p></td>
<td><p>å…·æœ‰ä¸€ä¸ªç„¦è·å’Œä¸¤ä¸ªå¾„å‘å˜å½¢å‚æ•°çš„ç®€å•ç›¸æœºæ¨¡å‹</p></td>
<td><p>5</p></td>
<td><p>f, cx, cy, k1, k2</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">OpenCVCameraModel</span></code></p></td>
<td><p>åŸºäºé’ˆå­”ç›¸æœºæ¨¡å‹ï¼Œä¸é€‚ç”¨äºé±¼çœ¼é•œå¤´è¾ƒå¤§å¾„å‘å˜å½¢</p></td>
<td><p>8</p></td>
<td><p>fx, fy, cx, cy, k1, k2, p1, p2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">OpenCVFisheyeCameraModel</span></code></p></td>
<td><p>åŸºäºé’ˆå­”ç›¸æœºæ¨¡å‹ï¼Œé€‚ç”¨äºé±¼çœ¼é•œå¤´è¾ƒå¤§å¾„å‘å˜å½¢</p></td>
<td><p>8</p></td>
<td><p>fx, fy, cx, cy, k1, k2, k3, k4</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FullOpenCVCameraModel</span></code></p></td>
<td><p>åŸºäºé’ˆå­”ç›¸æœºæ¨¡å‹ã€‚å¯ä»¥æ¨¡æ‹Ÿå¾„å‘å’Œåˆ‡å‘å˜å½¢</p></td>
<td><p>12</p></td>
<td><p>fx, fy, cx, cy, k1, k2, p1, p2, k3, k4, k5, k6</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FOVCameraModel</span></code></p></td>
<td><p>åŸºäºé’ˆå­”ç›¸æœºæ¨¡å‹ã€‚ å¯ä»¥å¯¹å¾„å‘å˜å½¢è¿›è¡Œå»ºæ¨¡</p></td>
<td><p>5</p></td>
<td><p>fx, fy, cx, cy, omega</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SimpleRadialFisheyeCameraModel</span></code></p></td>
<td><p>å…·æœ‰ä¸€ä¸ªç„¦è·å’Œä¸€ä¸ªå¾„å‘å¤±çœŸå‚æ•°çš„ç®€å•ç›¸æœºæ¨¡å‹ï¼Œé€‚ç”¨äºé±¼çœ¼é•œå¤´ç›¸æœº</p></td>
<td><p>4</p></td>
<td><p>f, cx, cy, k</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ThinPrismFisheyeCameraModel</span></code></p></td>
<td><p>å…·æœ‰å¾„å‘å’Œåˆ‡å‘ç•¸å˜ç³»æ•°ä»¥åŠå…¶ä»–ç³»æ•°çš„ç›¸æœºæ¨¡å‹</p></td>
<td><p>12</p></td>
<td><p>fx, fy, cx, cy, k1, k2, p1, p2, k3, k4, sx1, sy1</p></td>
</tr>
</tbody>
</table>
<p><strong>SIMPLE_PINHOLEï¼ŒPINHOLE</strong>ï¼šå¦‚æœå›¾åƒæ²¡æœ‰å…ˆéªŒå¤±çœŸï¼Œè¯·ä½¿ç”¨è¿™äº›ç›¸æœºå‹å·ã€‚å®ƒä»¬åˆ†åˆ«ä½¿ç”¨ä¸€ä¸ªå’Œä¸¤ä¸ªç„¦è·å‚æ•°ã€‚è¯·æ³¨æ„ï¼Œå³ä½¿åœ¨å›¾åƒä¸å¤±çœŸçš„æƒ…å†µä¸‹ï¼ŒCOLMAPä»å¯ä»¥å°è¯•ä½¿ç”¨æ›´å¤æ‚çš„ç›¸æœºæ¨¡å‹æ¥æ”¹å–„å†…åœ¨æ€§ã€‚</p>
<p><strong>SIMPLE_RADIALï¼ŒRADIAL</strong>ï¼šå¦‚æœå†…å‚æœªçŸ¥ä¸”æ¯ä¸ªå›¾åƒéƒ½æœ‰ä¸åŒçš„ç›¸æœºæ ¡å‡†(ä¾‹å¦‚ï¼Œå¯¹äºInternetç…§ç‰‡)ï¼Œåˆ™åº”è¯¥é€‰æ‹©è¯¥ç›¸æœºæ¨¡å‹ã€‚è¿™ä¸¤ä¸ªæ¨¡å‹éƒ½æ˜¯OPENCVæ¨¡å‹çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œä»…åˆ†åˆ«ä½¿ç”¨ä¸€ä¸ªå’Œä¸¤ä¸ªå‚æ•°å¯¹å¾„å‘å˜å½¢æ•ˆæœè¿›è¡Œå»ºæ¨¡ã€‚</p>
<p><strong>OPENCVï¼ŒFULL_OPENCV</strong>ï¼šå¦‚æœäº‹å…ˆçŸ¥é“å†…å‚ï¼Œè¯·ä½¿ç”¨è¿™äº›ç›¸æœºå‹å·ã€‚å¦‚æœå…±äº«å¤šä¸ªå›¾åƒçš„å†…åœ¨å‡½æ•°ï¼Œåˆ™è¿˜å¯ä»¥å°è¯•è®©COLMAPä¼°è®¡å‚æ•°ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæ¯ä¸ªå›¾åƒéƒ½æœ‰ä¸€ç»„å•ç‹¬çš„å›ºæœ‰å‚æ•°ï¼Œåˆ™å‚æ•°çš„è‡ªåŠ¨ä¼°è®¡å¾ˆå¯èƒ½ä¼šå¤±è´¥ã€‚</p>
<p><strong>SIMPLE_RADIAL_FISHEYEï¼ŒRADIAL_FISHEYEï¼ŒOPENCV_FISHEYEï¼ŒFOVå’ŒTHIN_PRISM_FISHEYE</strong>ï¼šå°†è¿™äº›ç›¸æœºæ¨¡å‹ç”¨äºé±¼çœ¼é•œå¤´ï¼Œè¯·æ³¨æ„ï¼Œå…¶ä»–æ‰€æœ‰æ¨¡å‹éƒ½æ— æ³•çœŸæ­£æ¨¡æ‹Ÿé±¼çœ¼é•œå¤´çš„ç•¸å˜æ•ˆæœã€‚
Google Project Tangoä½¿ç”¨FOVæ¨¡å‹(è¯·ç¡®ä¿ä¸è¦å°†omegaåˆå§‹åŒ–ä¸ºé›¶)ã€‚</p>
</div>
<div class="section" id="id2">
<h3><span class="section-number">1.1.2. </span>ç›¸å…³å‡½æ•°<a class="headerlink" href="#id2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<ul class="simple">
<li><p>æ ¹æ®ç›¸æœºidå’Œåå­—æ‰¾åˆ°å¯¹åº”çš„åå­—å’Œid</p></li>
</ul>
<dl class="cpp function">
<dt id="_CPPv419CameraModelNameToIdRKNSt6stringE">
<span id="_CPPv319CameraModelNameToIdRKNSt6stringE"></span><span id="_CPPv219CameraModelNameToIdRKNSt6stringE"></span><span id="CameraModelNameToId__ssCR"></span>int <code class="sig-name descname">CameraModelNameToId</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>model_name</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv419CameraModelNameToIdRKNSt6stringE" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv419CameraModelIdToNameKi">
<span id="_CPPv319CameraModelIdToNameKi"></span><span id="_CPPv219CameraModelIdToNameKi"></span><span id="CameraModelIdToName__iC"></span>std::string <code class="sig-name descname">CameraModelIdToName</code><span class="sig-paren">(</span><em class="property">const</em> int <em>model_id</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv419CameraModelIdToNameKi" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ul class="simple">
<li><p>ä½¿ç”¨ç»™å®šçš„å‚æ•°åˆå§‹åŒ–ç›¸æœºå‚æ•°</p></li>
</ul>
<dl class="cpp function">
<dt id="_CPPv427CameraModelInitializeParamsKiKdK6size_tK6size_t">
<span id="_CPPv327CameraModelInitializeParamsKiKdK6size_tK6size_t"></span><span id="_CPPv227CameraModelInitializeParamsKiKdK6size_tK6size_t"></span><span id="CameraModelInitializeParams__iC.doubleC.sC.sC"></span>std::vector&lt;double&gt; <code class="sig-name descname">CameraModelInitializeParams</code><span class="sig-paren">(</span><em class="property">const</em> int <em>model_id</em>, <em class="property">const</em> double <em>focal_length</em>, <em class="property">const</em> size_t <em>width</em>, <em class="property">const</em> size_t <em>height</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv427CameraModelInitializeParamsKiKdK6size_tK6size_t" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ul class="simple">
<li><p>è·å–å‚æ•°å‘é‡ä¸­å‚æ•°ç»„çš„ç´¢å¼•</p></li>
</ul>
<p>colmapé€šè¿‡ä¸åŒçš„æ•°ç»„å­˜å‚¨å¯¹åº”çš„ç„¦è·ï¼Œä¸»ç‚¹ï¼Œå’Œå…¶ä»–å‚æ•°ã€‚é€šè¿‡ç›¸æœºidè¿›è¡ŒæŸ¥æ‰¾ã€‚</p>
<dl class="cpp function">
<dt id="_CPPv426CameraModelFocalLengthIdxsKi">
<span id="_CPPv326CameraModelFocalLengthIdxsKi"></span><span id="_CPPv226CameraModelFocalLengthIdxsKi"></span><span id="CameraModelFocalLengthIdxs__iC"></span><em class="property">const</em> std::vector&lt;size_t&gt; &amp;<code class="sig-name descname">CameraModelFocalLengthIdxs</code><span class="sig-paren">(</span><em class="property">const</em> int <em>model_id</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv426CameraModelFocalLengthIdxsKi" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv429CameraModelPrincipalPointIdxsKi">
<span id="_CPPv329CameraModelPrincipalPointIdxsKi"></span><span id="_CPPv229CameraModelPrincipalPointIdxsKi"></span><span id="CameraModelPrincipalPointIdxs__iC"></span><em class="property">const</em> std::vector&lt;size_t&gt; &amp;<code class="sig-name descname">CameraModelPrincipalPointIdxs</code><span class="sig-paren">(</span><em class="property">const</em> int <em>model_id</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv429CameraModelPrincipalPointIdxsKi" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv426CameraModelExtraParamsIdxsKi">
<span id="_CPPv326CameraModelExtraParamsIdxsKi"></span><span id="_CPPv226CameraModelExtraParamsIdxsKi"></span><span id="CameraModelExtraParamsIdxs__iC"></span><em class="property">const</em> std::vector&lt;size_t&gt; &amp;<code class="sig-name descname">CameraModelExtraParamsIdxs</code><span class="sig-paren">(</span><em class="property">const</em> int <em>model_id</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv426CameraModelExtraParamsIdxsKi" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ul class="simple">
<li><p>å°†ä»¥åƒç´ ä¸ºå•ä½çš„é˜ˆå€¼è½¬æ¢ä¸ºå½’ä¸€åŒ–çš„å•ä½</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">CameraModel</span><span class="o">&gt;</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>

<span class="n">T</span> <span class="n">BaseCameraModel</span><span class="o">&lt;</span><span class="n">CameraModel</span><span class="o">&gt;::</span><span class="n">ImageToWorldThreshold</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">*</span> <span class="n">params</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span> <span class="n">threshold</span><span class="p">){</span>

<span class="n">T</span> <span class="n">mean_focal_length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="nl">idx</span> <span class="p">:</span> <span class="n">CameraModel</span><span class="o">::</span><span class="n">focal_length_idxs</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">mean_focal_length</span> <span class="o">+=</span> <span class="n">params</span><span class="p">[</span><span class="n">idx</span><span class="p">];}</span>

    <span class="n">mean_focal_length</span> <span class="o">/=</span> <span class="n">CameraModel</span><span class="o">::</span><span class="n">focal_length_idxs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>

    <span class="k">return</span> <span class="n">threshold</span> <span class="o">/</span> <span class="n">mean_focal_length</span><span class="p">;</span>   <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>ä»¥SimpleRadialCameraModelä¸ºä¾‹(colmapé»˜è®¤ç›¸æœºæ¨¡å‹å‚æ•°ä¸ºSimpleRadialCameraModel)ï¼š</p></li>
</ul>
<div class="align-center figure align-default">
<img alt="../../../../../_images/1.png" src="../../../../../_images/1.png" />
</div>
<ol class="arabic">
<li><p>å°†æ ‡å‡†åŒ–çš„æ‘„å½±æœºåæ ‡è½¬æ¢ä¸ºå›¾åƒåæ ‡ï¼Œ
å‡è®¾ä¸–ç•Œåæ ‡ä¸º(uï¼Œvï¼Œ1)ï¼Œå›¾åƒåæ ‡ä¸º(xï¼Œy)</p>
<dl class="cpp function">
<dt id="_CPPv4N23SimpleRadialCameraModel12WorldToImageEPK1TK1TK1TP1TP1T">
<span id="_CPPv3N23SimpleRadialCameraModel12WorldToImageEPK1TK1TK1TP1TP1T"></span><span id="_CPPv2N23SimpleRadialCameraModel12WorldToImageEPK1TK1TK1TP1TP1T"></span><span id="SimpleRadialCameraModel::WorldToImage__TCP.TC.TC.TP.TP"></span>void <code class="sig-prename descclassname">SimpleRadialCameraModel<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">WorldToImage</code><span class="sig-paren">(</span><em class="property">const</em> T *<em>params</em>, <em class="property">const</em> T <em>u</em>, <em class="property">const</em> T <em>v</em>, T *<em>x</em>, T *<em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23SimpleRadialCameraModel12WorldToImageEPK1TK1TK1TP1TP1T" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span> <span class="kt">void</span> <span class="n">SimpleRadialCameraModel</span><span class="o">::</span><span class="n">WorldToImage</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">*</span> <span class="n">params</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span> <span class="n">u</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span> <span class="n">v</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">const</span> <span class="n">T</span> <span class="n">f</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

    <span class="k">const</span> <span class="n">T</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

    <span class="k">const</span> <span class="n">T</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

   <span class="c1">// å¯¹uï¼Œvè¿›è¡Œç•¸å˜</span>

    <span class="n">T</span> <span class="n">du</span><span class="p">,</span> <span class="n">dv</span><span class="p">;</span>

    <span class="n">Distortion</span><span class="p">(</span><span class="o">&amp;</span><span class="n">params</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">du</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dv</span><span class="p">);</span>

    <span class="o">*</span><span class="n">x</span> <span class="o">=</span> <span class="n">u</span> <span class="o">+</span> <span class="n">du</span><span class="p">;</span>

    <span class="o">*</span><span class="n">y</span> <span class="o">=</span> <span class="n">v</span> <span class="o">+</span> <span class="n">dv</span><span class="p">;</span>

   <span class="c1">// å˜æ¢åˆ°å›¾åƒåæ ‡</span>

    <span class="o">*</span><span class="n">x</span> <span class="o">=</span> <span class="n">f</span> <span class="o">*</span> <span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">c1</span><span class="p">;</span>

    <span class="o">*</span><span class="n">y</span> <span class="o">=</span> <span class="n">f</span> <span class="o">*</span> <span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">c2</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>å°†å›¾åƒåæ ‡è½¬æ¢ä¸ºæ ‡å‡†åŒ–çš„æ‘„å½±æœºåæ ‡ã€‚
äº§ç”Ÿä¸–ç•Œåæ ‡ä¸º(uï¼Œvï¼Œ1)ã€‚å›¾åƒåæ ‡ä¸º(xï¼Œy)</p>
<dl class="cpp function">
<dt id="_CPPv4N23SimpleRadialCameraModel12ImageToWorldEPK1TK1TK1TP1TP1T">
<span id="_CPPv3N23SimpleRadialCameraModel12ImageToWorldEPK1TK1TK1TP1TP1T"></span><span id="_CPPv2N23SimpleRadialCameraModel12ImageToWorldEPK1TK1TK1TP1TP1T"></span><span id="SimpleRadialCameraModel::ImageToWorld__TCP.TC.TC.TP.TP"></span>void <code class="sig-prename descclassname">SimpleRadialCameraModel<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">ImageToWorld</code><span class="sig-paren">(</span><em class="property">const</em> T *<em>params</em>, <em class="property">const</em> T <em>x</em>, <em class="property">const</em> T <em>y</em>, T *<em>u</em>, T *<em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23SimpleRadialCameraModel12ImageToWorldEPK1TK1TK1TP1TP1T" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span> <span class="kt">void</span> <span class="n">SimpleRadialCameraModel</span><span class="o">::</span><span class="n">ImageToWorld</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">*</span> <span class="n">params</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span> <span class="n">x</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span> <span class="n">y</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">u</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>

<span class="k">const</span> <span class="n">T</span> <span class="n">f</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="k">const</span> <span class="n">T</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

<span class="k">const</span> <span class="n">T</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

<span class="c1">// ç‚¹åˆ°å½’ä¸€åŒ–å¹³é¢</span>

<span class="o">*</span><span class="n">u</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">c1</span><span class="p">)</span> <span class="o">/</span> <span class="n">f</span><span class="p">;</span>

<span class="o">*</span><span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">c2</span><span class="p">)</span> <span class="o">/</span> <span class="n">f</span><span class="p">;</span>

<span class="n">IterativeUndistortion</span><span class="p">(</span><span class="o">&amp;</span><span class="n">params</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">);</span> <span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>å¾—åˆ°ç•¸å˜åçš„åæ ‡</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{cases}
du = u(1+ k_1r^2 + k_2 r^4 + k_3r^6)\\
dv = v(1+ k_1r^2 + k_2 r^4 + k_3r^6)
\end{cases}~~~~~~~r^2 = x^2 + y^2\end{split}\]</div>
<p>x, y åœ¨è¿™é‡Œåˆ†åˆ«ä»£è¡¨çŸ«æ­£åå›¾åƒä¸­(u, v)ç‚¹åƒç´ åˆ†åˆ«åœ¨è¡Œå‘å’Œåˆ—å‘ä¸ä¸»ç‚¹çš„è·ç¦»ã€‚</p>
<p>ç”±äºSimpleRadialCameraModelæ¨¡å‹åªæœ‰ä¸€ä¸ªkï¼Œæ‰€ä»¥å–åˆ°ç¬¬äºŒé¡¹å³å¯ï¼ŒåŒæ—¶å°†xå’Œyç”¨uï¼Œvæ›¿æ¢ã€‚</p>
<p><strong>è¯·æ³¨æ„ï¼šè¯¥å…¬å¼å·¦ä¾§ä¸ºæ ¡æ­£å‰çš„åæ ‡(duï¼Œdv)ï¼Œå³ä¾§(uï¼Œv)æ˜¯æœªå‘ç”Ÿç•¸å˜çš„æ ¡æ­£ååæ ‡ã€‚</strong></p>
<dl class="cpp function">
<dt id="_CPPv4N23SimpleRadialCameraModel10DistortionEPK1TK1TK1TP1TP1T">
<span id="_CPPv3N23SimpleRadialCameraModel10DistortionEPK1TK1TK1TP1TP1T"></span><span id="_CPPv2N23SimpleRadialCameraModel10DistortionEPK1TK1TK1TP1TP1T"></span><span id="SimpleRadialCameraModel::Distortion__TCP.TC.TC.TP.TP"></span>void <code class="sig-prename descclassname">SimpleRadialCameraModel<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">Distortion</code><span class="sig-paren">(</span><em class="property">const</em> T *<em>extra_params</em>, <em class="property">const</em> T <em>u</em>, <em class="property">const</em> T <em>v</em>, T *<em>du</em>, T *<em>dv</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23SimpleRadialCameraModel10DistortionEPK1TK1TK1TP1TP1T" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span> <span class="kt">void</span> <span class="n">SimpleRadialCameraModel</span><span class="o">::</span><span class="n">Distortion</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">*</span> <span class="n">extra_params</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span> <span class="n">u</span><span class="p">,</span> <span class="k">const</span> <span class="n">T</span> <span class="n">v</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">du</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">dv</span><span class="p">)</span> <span class="p">{</span>

<span class="k">const</span> <span class="n">T</span> <span class="n">k</span> <span class="o">=</span> <span class="n">extra_params</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="k">const</span> <span class="n">T</span> <span class="n">u2</span> <span class="o">=</span> <span class="n">u</span> <span class="o">*</span> <span class="n">u</span><span class="p">;</span>

<span class="k">const</span> <span class="n">T</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">v</span><span class="p">;</span>

<span class="k">const</span> <span class="n">T</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">u2</span> <span class="o">+</span> <span class="n">v2</span><span class="p">;</span>

<span class="k">const</span> <span class="n">T</span> <span class="n">radial</span> <span class="o">=</span> <span class="n">k</span> <span class="o">*</span> <span class="n">r2</span><span class="p">;</span>

<span class="o">*</span><span class="n">du</span> <span class="o">=</span> <span class="n">u</span> <span class="o">*</span> <span class="n">radial</span><span class="p">;</span>

<span class="o">*</span><span class="n">dv</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">radial</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>ç‰›é¡¿è¿­ä»£æ³•å»é™¤ç•¸å˜</p>
<blockquote>
<div><dl class="cpp function">
<dt id="_CPPv4N15BaseCameraModel21IterativeUndistortionEPK1TP1TP1T">
<span id="_CPPv3N15BaseCameraModel21IterativeUndistortionEPK1TP1TP1T"></span><span id="_CPPv2N15BaseCameraModel21IterativeUndistortionEPK1TP1TP1T"></span><span id="BaseCameraModel::IterativeUndistortion__TCP.TP.TP"></span>void <code class="sig-prename descclassname">BaseCameraModel<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">IterativeUndistortion</code><span class="sig-paren">(</span><em class="property">const</em> T *<em>params</em>, T *<em>u</em>, T *<em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N15BaseCameraModel21IterativeUndistortionEPK1TP1TP1T" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">CameraModel</span><span class="o">&gt;</span>
<span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>

<span class="kt">void</span> <span class="n">BaseCameraModel</span><span class="o">::</span><span class="n">IterativeUndistortion</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">*</span> <span class="n">params</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span> <span class="n">u</span><span class="p">,</span> <span class="n">T</span><span class="o">*</span><span class="n">v</span><span class="p">)</span> <span class="p">{</span>

<span class="c1">// ä½¿ç”¨å…·æœ‰ä¸­å¿ƒå·®çš„æ•°å€¼å¾®åˆ†è¿›è¡Œç‰›é¡¿è¿­ä»£çš„å‚æ•°ï¼Œå³ä½¿å¯¹äºå…·æœ‰æ›´é«˜é˜¶é¡¹çš„å¤æ‚ç›¸æœºæ¨¡å‹ï¼Œä¹Ÿè¦è¿›è¡Œ100æ¬¡è¿­ä»£å°±è¶³å¤Ÿäº†ã€‚</span>
<span class="k">const</span> <span class="kt">size_t</span> <span class="n">kNumIterations</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">double</span> <span class="n">kMaxStepNorm</span> <span class="o">=</span> <span class="mf">1e-10</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">double</span> <span class="n">kRelStepSize</span> <span class="o">=</span> <span class="mf">1e-6</span><span class="p">;</span>

<span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix2d</span> <span class="n">J</span><span class="p">;</span>

<span class="k">const</span> <span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span> <span class="n">x0</span><span class="p">(</span><span class="o">*</span><span class="n">u</span><span class="p">,</span> <span class="o">*</span><span class="n">v</span><span class="p">);</span>

<span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span> <span class="n">x</span><span class="p">(</span><span class="o">*</span><span class="n">u</span><span class="p">,</span> <span class="o">*</span><span class="n">v</span><span class="p">);</span>

<span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span> <span class="n">dx</span><span class="p">;</span>

<span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span> <span class="n">dx_0b</span><span class="p">;</span>

<span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span> <span class="n">dx_0f</span><span class="p">;</span>

<span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span> <span class="n">dx_1b</span><span class="p">;</span>

<span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span> <span class="n">dx_1f</span><span class="p">;</span>

<span class="c1">//std::numeric\_limits::epsilon()è¿”å›1ä¸å¤§äº1çš„doubleç±»å‹æœ€å°å€¼ä¹‹é—´çš„å·®ã€‚</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">kNumIterations</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>

<span class="k">const</span> <span class="kt">double</span> <span class="n">step0</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">epsilon</span><span class="p">(),</span>
                          <span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">kRelStepSize</span> <span class="o">*</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">)));</span>

<span class="k">const</span> <span class="kt">double</span> <span class="n">step1</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">epsilon</span><span class="p">(),</span>
                          <span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">kRelStepSize</span> <span class="o">*</span> <span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">)));</span>

<span class="n">CameraModel</span><span class="o">::</span><span class="n">Distortion</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">dx</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">dx</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="n">CameraModel</span><span class="o">::</span><span class="n">Distortion</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">step0</span><span class="p">,</span> <span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">dx_0b</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">dx_0b</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="n">CameraModel</span><span class="o">::</span><span class="n">Distortion</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">step0</span><span class="p">,</span> <span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">dx_0f</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">dx_0f</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="n">CameraModel</span><span class="o">::</span><span class="n">Distortion</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">step1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dx_1b</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">dx_1b</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="n">CameraModel</span><span class="o">::</span><span class="n">Distortion</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">step1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dx_1f</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">dx_1f</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>

<span class="n">J</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">dx_0f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">dx_0b</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">step0</span><span class="p">);</span>
<span class="n">J</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">dx_1f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">dx_1b</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">step1</span><span class="p">);</span>
<span class="n">J</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="n">dx_0f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">dx_0b</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">step0</span><span class="p">);</span>
<span class="n">J</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">dx_1f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">dx_1b</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">step1</span><span class="p">);</span>

<span class="k">const</span> <span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span> <span class="n">step_x</span> <span class="o">=</span> <span class="n">J</span><span class="p">.</span><span class="n">inverse</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">dx</span> <span class="o">-</span> <span class="n">x0</span><span class="p">);</span>
<span class="n">x</span> <span class="o">-=</span> <span class="n">step_x</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="n">step_x</span><span class="p">.</span><span class="n">squaredNorm</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">kMaxStepNorm</span><span class="p">)</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">*</span><span class="n">u</span> <span class="o">=</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="o">*</span><span class="n">v</span> <span class="o">=</span> <span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div>
</div>
<div class="section" id="id3">
<h2><span class="section-number">1.2. </span>Camera<a class="headerlink" href="#id3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>åŒ…å«å†…å‚çš„ç›¸æœºç±»ã€‚
å¯ä»¥åœ¨å¤šä¸ªå›¾åƒä¹‹é—´å…±äº«ç›¸æœºï¼Œä¾‹å¦‚ï¼Œå¦‚æœåŒä¸€â€œç‰©ç†â€ç›¸æœºä½¿ç”¨å®Œå…¨ç›¸åŒçš„é•œå¤´å’Œå†…åœ¨ç‰¹æ€§(ç„¦è·ç­‰)æ‹æ‘„äº†å¤šå¼ ç…§ç‰‡ã€‚</p>
<div class="section" id="id4">
<h3><span class="section-number">1.2.1. </span>ç›¸å…³å‡½æ•°<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<ol class="arabic simple">
<li><p>ç›¸æœºæ¨¡å‹ä¿¡æ¯</p></li>
</ol>
<dl class="cpp function">
<dt id="_CPPv4NK6Camera7ModelIdEv">
<span id="_CPPv3NK6Camera7ModelIdEv"></span><span id="_CPPv2NK6Camera7ModelIdEv"></span><span id="Camera::ModelIdC"></span><em class="property">inline</em> int <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">ModelId</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera7ModelIdEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6Camera9ModelNameEv">
<span id="_CPPv3NK6Camera9ModelNameEv"></span><span id="_CPPv2NK6Camera9ModelNameEv"></span><span id="Camera::ModelNameC"></span>std::string <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">ModelName</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera9ModelNameEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera10SetModelIdEKi">
<span id="_CPPv3N6Camera10SetModelIdEKi"></span><span id="_CPPv2N6Camera10SetModelIdEKi"></span><span id="Camera::SetModelId__iC"></span>void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">SetModelId</code><span class="sig-paren">(</span><em class="property">const</em> int <em>model_id</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera10SetModelIdEKi" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera18SetModelIdFromNameERKNSt6stringE">
<span id="_CPPv3N6Camera18SetModelIdFromNameERKNSt6stringE"></span><span id="_CPPv2N6Camera18SetModelIdFromNameERKNSt6stringE"></span><span id="Camera::SetModelIdFromName__ssCR"></span>void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">SetModelIdFromName</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>model_name</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera18SetModelIdFromNameERKNSt6stringE" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="2">
<li><p>ç›¸æœºé•¿å®½</p></li>
</ol>
<dl class="cpp function">
<dt id="_CPPv4NK6Camera5WidthEv">
<span id="_CPPv3NK6Camera5WidthEv"></span><span id="_CPPv2NK6Camera5WidthEv"></span><span id="Camera::WidthC"></span><em class="property">inline</em> size_t <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">Width</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera5WidthEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6Camera6HeightEv">
<span id="_CPPv3NK6Camera6HeightEv"></span><span id="_CPPv2NK6Camera6HeightEv"></span><span id="Camera::HeightC"></span><em class="property">inline</em> size_t <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">Height</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera6HeightEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera8SetWidthEK6size_t">
<span id="_CPPv3N6Camera8SetWidthEK6size_t"></span><span id="_CPPv2N6Camera8SetWidthEK6size_t"></span><span id="Camera::SetWidth__sC"></span><em class="property">inline</em> void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">SetWidth</code><span class="sig-paren">(</span><em class="property">const</em> size_t <em>width</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera8SetWidthEK6size_t" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera9SetHeightEK6size_t">
<span id="_CPPv3N6Camera9SetHeightEK6size_t"></span><span id="_CPPv2N6Camera9SetHeightEK6size_t"></span><span id="Camera::SetHeight__sC"></span><em class="property">inline</em> void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">SetHeight</code><span class="sig-paren">(</span><em class="property">const</em> size_t <em>height</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera9SetHeightEK6size_t" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="3">
<li><p>ç„¦è·ä¿¡æ¯</p></li>
</ol>
<dl class="cpp function">
<dt id="_CPPv4NK6Camera15MeanFocalLengthEv">
<span id="_CPPv3NK6Camera15MeanFocalLengthEv"></span><span id="_CPPv2NK6Camera15MeanFocalLengthEv"></span><span id="Camera::MeanFocalLengthC"></span>double <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">MeanFocalLength</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera15MeanFocalLengthEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6Camera11FocalLengthEv">
<span id="_CPPv3NK6Camera11FocalLengthEv"></span><span id="_CPPv2NK6Camera11FocalLengthEv"></span><span id="Camera::FocalLengthC"></span>double <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">FocalLength</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera11FocalLengthEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6Camera12FocalLengthXEv">
<span id="_CPPv3NK6Camera12FocalLengthXEv"></span><span id="_CPPv2NK6Camera12FocalLengthXEv"></span><span id="Camera::FocalLengthXC"></span>double <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">FocalLengthX</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera12FocalLengthXEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6Camera12FocalLengthYEv">
<span id="_CPPv3NK6Camera12FocalLengthYEv"></span><span id="_CPPv2NK6Camera12FocalLengthYEv"></span><span id="Camera::FocalLengthYC"></span>double <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">FocalLengthY</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera12FocalLengthYEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera14SetFocalLengthEKd">
<span id="_CPPv3N6Camera14SetFocalLengthEKd"></span><span id="_CPPv2N6Camera14SetFocalLengthEKd"></span><span id="Camera::SetFocalLength__doubleC"></span>void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">SetFocalLength</code><span class="sig-paren">(</span><em class="property">const</em> double <em>focal_length</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera14SetFocalLengthEKd" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera15SetFocalLengthXEKd">
<span id="_CPPv3N6Camera15SetFocalLengthXEKd"></span><span id="_CPPv2N6Camera15SetFocalLengthXEKd"></span><span id="Camera::SetFocalLengthX__doubleC"></span>void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">SetFocalLengthX</code><span class="sig-paren">(</span><em class="property">const</em> double <em>focal_length_x</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera15SetFocalLengthXEKd" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera15SetFocalLengthYEKd">
<span id="_CPPv3N6Camera15SetFocalLengthYEKd"></span><span id="_CPPv2N6Camera15SetFocalLengthYEKd"></span><span id="Camera::SetFocalLengthY__doubleC"></span>void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">SetFocalLengthY</code><span class="sig-paren">(</span><em class="property">const</em> double <em>focal_length_y</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera15SetFocalLengthYEKd" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="4">
<li><p>ä¸»ç‚¹ä¿¡æ¯</p></li>
</ol>
<dl class="cpp function">
<dt id="_CPPv4NK6Camera15PrincipalPointXEv">
<span id="_CPPv3NK6Camera15PrincipalPointXEv"></span><span id="_CPPv2NK6Camera15PrincipalPointXEv"></span><span id="Camera::PrincipalPointXC"></span>double <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">PrincipalPointX</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera15PrincipalPointXEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6Camera15PrincipalPointYEv">
<span id="_CPPv3NK6Camera15PrincipalPointYEv"></span><span id="_CPPv2NK6Camera15PrincipalPointYEv"></span><span id="Camera::PrincipalPointYC"></span>double <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">PrincipalPointY</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera15PrincipalPointYEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera18SetPrincipalPointXEKd">
<span id="_CPPv3N6Camera18SetPrincipalPointXEKd"></span><span id="_CPPv2N6Camera18SetPrincipalPointXEKd"></span><span id="Camera::SetPrincipalPointX__doubleC"></span>void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">SetPrincipalPointX</code><span class="sig-paren">(</span><em class="property">const</em> double <em>ppx</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera18SetPrincipalPointXEKd" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera18SetPrincipalPointYEKd">
<span id="_CPPv3N6Camera18SetPrincipalPointYEKd"></span><span id="_CPPv2N6Camera18SetPrincipalPointYEKd"></span><span id="Camera::SetPrincipalPointY__doubleC"></span>void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">SetPrincipalPointY</code><span class="sig-paren">(</span><em class="property">const</em> double <em>ppy</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera18SetPrincipalPointYEKd" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="5">
<li><p>å†…å‚çŸ©é˜µ</p></li>
</ol>
<dl class="cpp function">
<dt id="_CPPv4NK6Camera17CalibrationMatrixEv">
<span id="_CPPv3NK6Camera17CalibrationMatrixEv"></span><span id="_CPPv2NK6Camera17CalibrationMatrixEv"></span><span id="Camera::CalibrationMatrixC"></span>Eigen::Matrix3d <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">CalibrationMatrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera17CalibrationMatrixEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="6">
<li><p>è·å–å‚æ•°å‘é‡ä¸­å‚æ•°ç»„çš„ç´¢å¼•</p></li>
</ol>
<dl class="cpp function">
<dt id="_CPPv4NK6Camera15FocalLengthIdxsEv">
<span id="_CPPv3NK6Camera15FocalLengthIdxsEv"></span><span id="_CPPv2NK6Camera15FocalLengthIdxsEv"></span><span id="Camera::FocalLengthIdxsC"></span><em class="property">const</em> std::vector &amp;<code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">FocalLengthIdxs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera15FocalLengthIdxsEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6Camera18PrincipalPointIdxsEv">
<span id="_CPPv3NK6Camera18PrincipalPointIdxsEv"></span><span id="_CPPv2NK6Camera18PrincipalPointIdxsEv"></span><span id="Camera::PrincipalPointIdxsC"></span><em class="property">const</em> std::vector&lt;size_t&gt; &amp;<code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">PrincipalPointIdxs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera18PrincipalPointIdxsEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK6Camera15ExtraParamsIdxsEv">
<span id="_CPPv3NK6Camera15ExtraParamsIdxsEv"></span><span id="_CPPv2NK6Camera15ExtraParamsIdxsEv"></span><span id="Camera::ExtraParamsIdxsC"></span><em class="property">const</em> std::vector&lt;size_t&gt; &amp;<code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">ExtraParamsIdxs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK6Camera15ExtraParamsIdxsEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="7">
<li><p>æ”¹å˜å°ºå¯¸è¿›è€Œæ”¹å˜ç„¦è·</p></li>
</ol>
<dl class="cpp function">
<dt id="_CPPv4N6Camera7RescaleEKd">
<span id="_CPPv3N6Camera7RescaleEKd"></span><span id="_CPPv2N6Camera7RescaleEKd"></span><span id="Camera::Rescale__doubleC"></span>void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">Rescale</code><span class="sig-paren">(</span><em class="property">const</em> double <em>scale</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6Camera7RescaleEKd" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6Camera7RescaleEK6size_tK6size_t">
<span id="_CPPv3N6Camera7RescaleEK6size_tK6size_t"></span><span id="_CPPv2N6Camera7RescaleEK6size_tK6size_t"></span><span id="Camera::Rescale__sC.sC"></span>void <code class="sig-prename descclassname">Camera<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">Rescale</code><span class="sig-paren">(</span><em class="property">const</em> size_t <em>width</em>, <em class="property">const</em> size_t <em>height</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N6Camera7RescaleEK6size_tK6size_t" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<p>//â€“ æ ¹æ®å°ºå¯¸å˜æ¢ç„¦è· â€“//</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Camera</span><span class="o">::</span><span class="n">Rescale</span><span class="p">(</span><span class="k">const</span> <span class="kt">double</span> <span class="n">scale</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">CHECK_GT</span><span class="p">(</span><span class="n">scale</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">);</span>

    <span class="k">const</span> <span class="kt">double</span> <span class="n">scale_x</span> <span class="o">=</span>
        <span class="n">std</span><span class="o">::</span><span class="n">round</span><span class="p">(</span><span class="n">scale</span> <span class="o">*</span> <span class="n">width_</span><span class="p">)</span> <span class="o">/</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">width_</span><span class="p">);</span>

    <span class="k">const</span> <span class="kt">double</span> <span class="n">scale_y</span> <span class="o">=</span>
        <span class="n">std</span><span class="o">::</span><span class="n">round</span><span class="p">(</span><span class="n">scale</span> <span class="o">*</span> <span class="n">height_</span><span class="p">)</span> <span class="o">/</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">height_</span><span class="p">);</span>

    <span class="n">width_</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">round</span><span class="p">(</span><span class="n">scale</span> <span class="o">*</span> <span class="n">width_</span><span class="p">));</span>

    <span class="n">height_</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">round</span><span class="p">(</span><span class="n">scale</span> <span class="o">*</span> <span class="n">height_</span><span class="p">));</span>

    <span class="n">SetPrincipalPointX</span><span class="p">(</span><span class="n">scale_x</span> <span class="o">*</span> <span class="n">PrincipalPointX</span><span class="p">());</span>

    <span class="n">SetPrincipalPointY</span><span class="p">(</span><span class="n">scale_y</span> <span class="o">*</span> <span class="n">PrincipalPointY</span><span class="p">());</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">FocalLengthIdxs</span><span class="p">().</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">SetFocalLength</span><span class="p">((</span><span class="n">scale_x</span> <span class="o">+</span> <span class="n">scale_y</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">FocalLength</span><span class="p">());}</span>

    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">FocalLengthIdxs</span><span class="p">().</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">SetFocalLengthX</span><span class="p">(</span><span class="n">scale_x</span> <span class="o">*</span> <span class="n">FocalLengthX</span><span class="p">());</span>
        <span class="n">SetFocalLengthY</span><span class="p">(</span><span class="n">scale_y</span> <span class="o">*</span> <span class="n">FocalLengthY</span><span class="p">());}</span>

    <span class="k">else</span> <span class="n">LOG</span><span class="p">(</span><span class="n">FATAL</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Camera model must either have 1 or 2 focal length parameters.&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>//â€“ æ ¹æ®é•¿å®½å˜æ¢ç„¦è· â€“//</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Camera</span><span class="o">::</span><span class="n">Rescale</span><span class="p">(</span><span class="k">const</span> <span class="kt">size_t</span> <span class="n">width</span><span class="p">,</span> <span class="k">const</span> <span class="kt">size_t</span> <span class="n">height</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">const</span> <span class="kt">double</span> <span class="n">scale_x</span> <span class="o">=</span>
        <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">width</span><span class="p">)</span> <span class="o">/</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">width_</span><span class="p">);</span>

    <span class="k">const</span> <span class="kt">double</span> <span class="n">scale_y</span> <span class="o">=</span>
        <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">height</span><span class="p">)</span> <span class="o">/</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">height_</span><span class="p">);</span>

    <span class="n">width_</span> <span class="o">=</span> <span class="n">width</span><span class="p">;</span>

    <span class="n">height_</span> <span class="o">=</span> <span class="n">height</span><span class="p">;</span>

    <span class="n">SetPrincipalPointX</span><span class="p">(</span><span class="n">scale_x</span> <span class="o">*</span> <span class="n">PrincipalPointX</span><span class="p">());</span>

    <span class="n">SetPrincipalPointY</span><span class="p">(</span><span class="n">scale_y</span> <span class="o">*</span> <span class="n">PrincipalPointY</span><span class="p">());</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">FocalLengthIdxs</span><span class="p">().</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">SetFocalLength</span><span class="p">((</span><span class="n">scale_x</span> <span class="o">+</span> <span class="n">scale_y</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">FocalLength</span><span class="p">());}</span>

    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">FocalLengthIdxs</span><span class="p">().</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">SetFocalLengthX</span><span class="p">(</span><span class="n">scale_x</span> <span class="o">*</span> <span class="n">FocalLengthX</span><span class="p">());</span>
        <span class="n">SetFocalLengthY</span><span class="p">(</span><span class="n">scale_y</span> <span class="o">*</span> <span class="n">FocalLengthY</span><span class="p">());}</span>

    <span class="k">else</span> <span class="n">LOG</span><span class="p">(</span><span class="n">FATAL</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Camera model must either have 1 or 2 focal length parameters.&quot;</span><span class="p">;</span>

<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="camerarig">
<h2><span class="section-number">1.3. </span>CameraRig<a class="headerlink" href="#camerarig" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>åŒ…å«æœ‰å…³æ‘„å½±æœºè£…ç½®çš„ç›¸å¯¹é…ç½®çš„ä¿¡æ¯ã€‚</p>
<p>ç›¸æœºè£…ç½®ç”±å¤šä¸ªç›¸æœºç»„æˆï¼Œè¿™äº›ç›¸æœºåœ¨å¤šä¸ªå¿«ç…§ä¸Šå…·æœ‰ä¸¥æ ¼çš„ç›¸å¯¹å¤–éƒ¨é…ç½®ã€‚</p>
<p>å¿«ç…§å®šä¹‰ä¸ºè£…ç½®ä¸­æ‰€æœ‰æ‘„åƒæœºåŒæ—¶æ•è·çš„å›¾åƒçš„é›†åˆã€‚</p>
<div class="section" id="id5">
<h3><span class="section-number">1.3.1. </span>ç›¸å…³å‡½æ•°<a class="headerlink" href="#id5" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<ol class="arabic simple">
<li><p>ç›¸æœºå’Œå¿«ç…§çš„æ•°é‡</p></li>
</ol>
<dl class="cpp function">
<dt id="_CPPv4NK9CameraRig10NumCamerasEv">
<span id="_CPPv3NK9CameraRig10NumCamerasEv"></span><span id="_CPPv2NK9CameraRig10NumCamerasEv"></span><span id="CameraRig::NumCamerasC"></span>size_t <code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">NumCameras</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK9CameraRig10NumCamerasEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK9CameraRig12NumSnapshotsEv">
<span id="_CPPv3NK9CameraRig12NumSnapshotsEv"></span><span id="_CPPv2NK9CameraRig12NumSnapshotsEv"></span><span id="CameraRig::NumSnapshotsC"></span>size_t <code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">NumSnapshots</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK9CameraRig12NumSnapshotsEv" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="2">
<li><p>æ·»åŠ æ–°çš„ç›¸æœº</p></li>
</ol>
<p>å°†æ–°ç›¸æœºæ·»åŠ åˆ°è£…ç½®ã€‚
ç›¸å¯¹ä½å§¿å¯ä»¥åŒ…å«è™šæ‹Ÿå€¼ï¼Œç„¶åå¯ä»¥ä½¿ç”¨ComputeRelativePosesæ–¹æ³•ä»ç»™å®šçš„é‡æ„ä¸­è‡ªåŠ¨è®¡ç®—å‡ºç›¸å¯¹ä½å§¿ã€‚</p>
<dl class="cpp function">
<dt id="_CPPv4N9CameraRig9AddCameraEK8camera_tRKN5Eigen8Vector4dERKN5Eigen8Vector3dE">
<span id="_CPPv3N9CameraRig9AddCameraEK8camera_tRKN5Eigen8Vector4dERKN5Eigen8Vector3dE"></span><span id="_CPPv2N9CameraRig9AddCameraEK8camera_tRKN5Eigen8Vector4dERKN5Eigen8Vector3dE"></span><span id="CameraRig::AddCamera__camera_tC.Eigen::Vector4dCR.Eigen::Vector3dCR"></span>void <code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">AddCamera</code><span class="sig-paren">(</span><em class="property">const</em> camera_t <em>camera_id</em>, <em class="property">const</em> Eigen::Vector4d &amp;<em>rel_qvec</em>, <em class="property">const</em> Eigen::Vector3d &amp;<em>rel_tvec</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N9CameraRig9AddCameraEK8camera_tRKN5Eigen8Vector4dERKN5Eigen8Vector3dE" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="3">
<li><p>æ·»åŠ æ–°çš„å¿«ç…§</p></li>
</ol>
<p>å°†å•ä¸ªå¿«ç…§çš„å›¾åƒæ·»åŠ åˆ°è£…ç½®ã€‚å¿«ç…§ç”±è£…ç½®çš„æ‰€æœ‰æ‘„åƒæœºæ•è·çš„å›¾åƒç»„æˆã€‚å¿«ç…§çš„æ‰€æœ‰å›¾åƒå…±äº«ç›¸åŒçš„å…¨å±€ç›¸æœºè£…ç½®ä½å§¿ã€‚</p>
<dl class="cpp function">
<dt id="_CPPv4N9CameraRig11AddSnapshotERKNSt6vectorI7image_tEE">
<span id="_CPPv3N9CameraRig11AddSnapshotERKNSt6vectorI7image_tEE"></span><span id="_CPPv2N9CameraRig11AddSnapshotERKNSt6vectorI7image_tEE"></span><span id="CameraRig::AddSnapshot__std::vector:image_t:CR"></span>void <code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">AddSnapshot</code><span class="sig-paren">(</span><em class="property">const</em> std::vector&lt;image_t&gt; &amp;<em>image_ids</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N9CameraRig11AddSnapshotERKNSt6vectorI7image_tEE" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="4">
<li><p>è·å–è£…ç½®ä¸­æ‘„åƒæœºçš„ç›¸å¯¹å§¿åŠ¿</p></li>
</ol>
<dl class="cpp function">
<dt id="_CPPv4N9CameraRig12RelativeQvecEK8camera_t">
<span id="_CPPv3N9CameraRig12RelativeQvecEK8camera_t"></span><span id="_CPPv2N9CameraRig12RelativeQvecEK8camera_t"></span><span id="CameraRig::RelativeQvec__camera_tC"></span>Eigen::Vector4d &amp;<code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">RelativeQvec</code><span class="sig-paren">(</span><em class="property">const</em> camera_t <em>camera_id</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N9CameraRig12RelativeQvecEK8camera_t" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK9CameraRig12RelativeQvecEK8camera_t">
<span id="_CPPv3NK9CameraRig12RelativeQvecEK8camera_t"></span><span id="_CPPv2NK9CameraRig12RelativeQvecEK8camera_t"></span><span id="CameraRig::RelativeQvec__camera_tCC"></span><em class="property">const</em> Eigen::Vector4d &amp;<code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">RelativeQvec</code><span class="sig-paren">(</span><em class="property">const</em> camera_t <em>camera_id</em><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK9CameraRig12RelativeQvecEK8camera_t" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N9CameraRig12RelativeTvecEK8camera_t">
<span id="_CPPv3N9CameraRig12RelativeTvecEK8camera_t"></span><span id="_CPPv2N9CameraRig12RelativeTvecEK8camera_t"></span><span id="CameraRig::RelativeTvec__camera_tC"></span>Eigen::Vector3d &amp;<code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">RelativeTvec</code><span class="sig-paren">(</span><em class="property">const</em> camera_t <em>camera_id</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N9CameraRig12RelativeTvecEK8camera_t" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK9CameraRig12RelativeTvecEK8camera_t">
<span id="_CPPv3NK9CameraRig12RelativeTvecEK8camera_t"></span><span id="_CPPv2NK9CameraRig12RelativeTvecEK8camera_t"></span><span id="CameraRig::RelativeTvec__camera_tCC"></span><em class="property">const</em> Eigen::Vector3d &amp;<code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">RelativeTvec</code><span class="sig-paren">(</span><em class="property">const</em> camera_t <em>camera_id</em><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK9CameraRig12RelativeTvecEK8camera_t" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="5">
<li><p>è®¡ç®—scale</p></li>
</ol>
<p>é€šè¿‡æ±‚æŠ•å½±ä¸­å¿ƒä¹‹é—´çš„å¹³å‡è·ç¦»ï¼Œå¯ä»¥è®¡ç®—å‡ºä»é‡å»ºåˆ°æ‘„åƒæœºè£…ç½®å°ºå¯¸çš„æ¯”ä¾‹å› å­ã€‚</p>
<p>å‡è®¾è®¾å¤‡ä¸­è‡³å°‘æœ‰ä¸€å¯¹æ‘„åƒæœºçš„åŸºçº¿ä¸ºéé›¶ï¼Œå¦åˆ™è¯¥å‡½æ•°è¿”å›NaNã€‚</p>
<dl class="cpp function">
<dt id="_CPPv4NK9CameraRig12ComputeScaleERK14Reconstruction">
<span id="_CPPv3NK9CameraRig12ComputeScaleERK14Reconstruction"></span><span id="_CPPv2NK9CameraRig12ComputeScaleERK14Reconstruction"></span><span id="CameraRig::ComputeScale__ReconstructionCRC"></span>double <code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">ComputeScale</code><span class="sig-paren">(</span><em class="property">const</em> Reconstruction &amp;<em>reconstruction</em><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK9CameraRig12ComputeScaleERK14Reconstruction" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="6">
<li><p>è®¡ç®—ç›¸å¯¹ä½å§¿</p></li>
</ol>
<p>é€šè¿‡æ±‚æ‰€æœ‰å¿«ç…§ä¸Šçš„ç›¸å¯¹ä½å§¿çš„å¹³å‡å€¼ï¼Œå¯ä»¥ä»é‡å»ºä¸­è®¡ç®—ç›¸æœºè£…ç½®ä¸­çš„ç›¸å¯¹å§¿æ€ã€‚</p>
<p>å‚è€ƒæ‘„åƒæœºçš„å§¿åŠ¿å°†æ˜¯Identityã€‚ è¿™å‡å®šæ‘„å½±æœºè£…ç½®æœ‰åœ¨é‡å»ºä¸­é…å‡†çš„å¿«ç…§ã€‚</p>
<dl class="cpp function">
<dt id="_CPPv4N9CameraRig20ComputeRelativePosesERK14Reconstruction">
<span id="_CPPv3N9CameraRig20ComputeRelativePosesERK14Reconstruction"></span><span id="_CPPv2N9CameraRig20ComputeRelativePosesERK14Reconstruction"></span><span id="CameraRig::ComputeRelativePoses__ReconstructionCR"></span>void <code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">ComputeRelativePoses</code><span class="sig-paren">(</span><em class="property">const</em> Reconstruction &amp;<em>reconstruction</em><span class="sig-paren">)</span>;<a class="headerlink" href="#_CPPv4N9CameraRig20ComputeRelativePosesERK14Reconstruction" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

<ol class="arabic simple" start="7">
<li><p>è®¡ç®—è£…å¤‡çš„ç»å¯¹ç›¸æœºå§¿æ€</p></li>
</ol>
<p>è£…ç½®çš„ç»å¯¹æ‘„å½±æœºä½å§¿è®¡ç®—ä¸ºè£…ç½®ä¸­æ‰€æœ‰ç›¸å¯¹æ‘„å½±æœºä½å§¿åŠå…¶åœ¨é‡å»ºä¸­å¯¹åº”å›¾åƒä½å§¿çš„å¹³å‡å€¼ã€‚</p>
<dl class="cpp function">
<dt id="_CPPv4NK9CameraRig19ComputeAbsolutePoseEK6size_tRK14ReconstructionPN5Eigen8Vector4dEPN5Eigen8Vector3dE">
<span id="_CPPv3NK9CameraRig19ComputeAbsolutePoseEK6size_tRK14ReconstructionPN5Eigen8Vector4dEPN5Eigen8Vector3dE"></span><span id="_CPPv2NK9CameraRig19ComputeAbsolutePoseEK6size_tRK14ReconstructionPN5Eigen8Vector4dEPN5Eigen8Vector3dE"></span><span id="CameraRig::ComputeAbsolutePose__sC.ReconstructionCR.Eigen::Vector4dP.Eigen::Vector3dPC"></span>void <code class="sig-prename descclassname">CameraRig<code class="sig-prename descclassname">::</code></code><code class="sig-name descname">ComputeAbsolutePose</code><span class="sig-paren">(</span><em class="property">const</em> size_t <em>snapshot_idx</em>, <em class="property">const</em> Reconstruction &amp;<em>reconstruction</em>, Eigen::Vector4d *<em>abs_qvec</em>, Eigen::Vector3d *<em>abs_tvec</em><span class="sig-paren">)</span> <em class="property">const</em>;<a class="headerlink" href="#_CPPv4NK9CameraRig19ComputeAbsolutePoseEK6size_tRK14ReconstructionPN5Eigen8Vector4dEPN5Eigen8Vector3dE" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../VisibilityPyramid/VisibilityPyramid.html" class="btn btn-neutral float-right" title="2. VisibilityPyramid" accesskey="n" rel="next">ä¸‹ä¸€é¡µ <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../../c_base.html" class="btn btn-neutral float-left" title="Base" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> ä¸Šä¸€é¡µ</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; ç‰ˆæƒæ‰€æœ‰ 2021, linzzz.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>