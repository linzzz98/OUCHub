<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>35. Mapping and Localization from Planar Markers &mdash; OUCHub  æ–‡æ¡£</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/twemoji.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"></script>
        <script src="../../../../../_static/twemoji.js"></script>
        <script src="../../../../../_static/translations.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="ç´¢å¼•" href="../../../../../genindex.html" />
    <link rel="search" title="æœç´¢" href="../../../../../search.html" />
    <link rel="next" title="36. Geometry-aware Feature Matching for Structure from Motion Applications" href="../GAM/GAM.html" />
    <link rel="prev" title="34. Triangulation: Why Optimize?" href="../Triangulation_Why_Optimize/Triangulation_Why_Optimize.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
            <a href="../../../../../index.html" class="icon icon-home"> OUCHub
            <img src="../../../../../_static/logo_1.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="åœ¨æ–‡æ¡£ä¸­æœç´¢" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">åŸºç¡€çŸ¥è¯†</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge/k_MH.html">ğŸ’Š Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge/k_CV.html">ğŸ¤ Computer Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge/k_ML.html">ğŸ Machine Learning</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">è®ºæ–‡å­¦ä¹ </span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../p_sfm.html">ğŸŠ Structure from Motion</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Structure-from-Motion_Revisited/Structure-from-Motion_Revisited.html">1. Structure-from-Motion Revisited</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Hierarchical_Structure-And-Motion/Hierarchical_Structure-And-Motion.html">2. Hierarchical structure-and-motion recovery from uncalibrated images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/View-graph_SfM/View-graph_SfM.html">3. View-graph Selection Framework for SfM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/View-graph_Framework/View-graph_Framework.html">4. View-graph construction framework for robust and efficient structure-from-motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/MarkerSfM/MarkerSfM.html">5. Improved Structure from Motion Using Fiducial Marker Matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Privacy_SfM/Privacy_SfM.html">6. Privacy Preserving Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/SfM_with_Line_Segments/SfM_with_Line_Segments.html">7. Structure from Motion with Line Segments Under Relaxed Endpoint Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Line_based_SfM/Line_based_SfM.html">8. Line-based Robust SfM with Little Image Overlap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Voting_based_SfM/Voting_based_SfM.html">9. Voting-based Incremental Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Graph_based_SfM/Graph_based_SfM.html">10. Graph-Based Consistent Matching for Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/CSfM/CSfM.html">11. CSFM: COMMUNITY-BASED STRUCTURE FROM MOTION</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Very_Large-Scale_Global_SfM/Very_Large-Scale_Global_SfM.html">12. Very Large-Scale Global SfM by Distributed Motion Averaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/GlobalSfM_SA/GlobalSfM_SA.html">13. Global Structure-from-Motion by Similarity Averaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/GlobalSfM_Application/GlobalSfM_Application.html">14. Global Structure-from-Motion and Its Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Efficient_Initial_Pose-graph/Efficient_Initial_Pose-graph.html">15. Efficient Initial Pose-graph Generation for Global SfM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Optimizing_the_Viewing_Graph/Optimizing_the_Viewing_Graph.html">16. Optimizing the Viewing Graph for Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Reducing_Drift_Using_Extended_Feature/Reducing_Drift_Using_Extended_Feature.html">17. Reducing Drift in Structure From Motion Using Extended Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Rotation_BA/Rotation_BA.html">18. Rotation-Only Bundle Adjustment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Hybrid/HSfM/HSfM.html">19. HSfM: Hybrid Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Hybrid/View_Graph_Construction/View_Graph_Construction.html">20. View-graph construction framework for robust and efficient structure-from-motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../A_Global_Linear_Method_for_Camera_Pose_Registration/A_Global_Linear_Method_for_Camera_Pose_Registration.html">21. A Global Linear Method for Camera Pose Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Robust_Rotation_and_Translation_Estimation/Robust_Rotation_and_Translation_Estimation.html">22. Robust Rotation and Translation Estimation in Multiview Reconstruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../FivePoint_Relative_Pose_Problem/FivePoint_Relative_Pose_Problem.html">23. An Effcient Solution to the Five-Point Relative Pose Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Hybrid_Camera_Estimation/Hybrid_Camera_Estimation.html">24. Hybrid Camera Pose Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lie_Averaging/Lie_Averaging.html">25. Lie-Algebraic Averaging For Globally Consistent Motion Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Efficient_Robust_Rotation_Averaging/Efficient_Robust_Rotation_Averaging.html">26. Efficient and Robust Large-Scale Rotation Averaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Robust_Relative_Rotation_Averaging/Robust_Relative_Rotation_Averaging.html">27. Robust Relative Rotation Averaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Privacy_Image_Queries/Privacy_Image_Queries.html">28. Privacy Preserving Image Queries for Camera Localization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Privacy_Location/Privacy_Location.html">29. Privacy Preserving Image-Based Localization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Using%20_Many_Cameras_as_One/Using%20_Many_Cameras_as_One.html">30. Using Many Cameras as One</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Pose_Estimation_From_Points_Lines/Pose_Estimation_From_Points_Lines.html">31. Accurate and Linear Time Pose Estimation from Points and Lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Solver6L/Solver6L.html">32. Solutions to Minimal Generalized Relative Pose Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Geometric_Interpretations/Geometric_Interpretations.html">33. Geometric Interpretations of the Normalized Epipolar Error</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Triangulation_Why_Optimize/Triangulation_Why_Optimize.html">34. Triangulation: Why Optimize?</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">35. Mapping and Localization from Planar Markers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#initial-pose-graph">35.1. Initial pose graph</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../GAM/GAM.html">36. Geometry-aware Feature Matching for Structure from Motion Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../RA_MarkerPose/RA_MarkerPose.html">37. Resolving Marker Pose Ambiguity by Robust Rotation Averaging with Clique Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1DSfM/1DSfM.html">38. Robust Global Translations with 1DSfM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../DeepLearning/SfMLearner/SfMLearner.html">39. Unsupervised Learning of Depth and Ego-Motion from Video</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../DeepLearning/DeepSfM/DeepSfM.html">40. DeepSFM: Structure From Motion Via Deep Bundle Adjustment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../DeepLearning/Pixel_Perfect_SfM/Pixel_Perfect_SfM.html">41. Pixel-Perfect Structure-from-Motion with Featuremetric Refinement</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../p_slam.html">ğŸŠ SLAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../p_pointcloud.html">ğŸ‹ Point Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../p_BA.html">ğŸŠ Bundle Adjustment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../p_others.html">ğŸ’ Others</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">æºç è§£æ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../code/colmap.html">ğŸ‘ Colmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../code/theiasfm.html">ğŸ‘ TheiaSfM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../code/ba.html">ğŸ‘ Bundle Adjustment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ç®—æ³•å­¦ä¹ </span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../algorithm/algorithm.html">ğŸ‘ Algorithm</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">å·¥ä½œçŸ¥è¯†</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../work/work.html">ğŸ‘ Work</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">æ‚ä¸ƒæ‚å…«</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../others/o_others.html">ğŸº Others</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">OUCHub</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../p_sfm.html">ğŸŠ Structure from Motion</a> &raquo;</li>
      <li><span class="section-number">35. </span>Mapping and Localization from Planar Markers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/pages/paper/sfm/CameraPose/Planar_Markers/Planar_Markers.rst.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mapping-and-localization-from-planar-markers">
<h1><span class="section-number">35. </span>Mapping and Localization from Planar Markers<a class="headerlink" href="#mapping-and-localization-from-planar-markers" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">ïƒ</a></h1>
<p>æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°æ–¹æ³•ï¼Œå¯ä»¥åŒæ—¶è§£å†³ä¸€ç»„æ–¹å½¢å¹³é¢æ ‡è®°çš„æ˜ å°„å’Œå®šä½é—®é¢˜ã€‚</p>
<ol class="arabic simple">
<li><p>åˆ›å»ºæˆå¯¹ç›¸å¯¹æ ‡è®°ä½å§¿çš„é¢¤åŠ¨ï¼Œä»ä¸­è·å¾—åˆå§‹å§¿åŠ¿å›¾ã€‚</p></li>
<li><p>å§¿æ€å›¾å¯èƒ½åŒ…å«å°çš„æˆå¯¹ä½å§¿è¯¯å·®ï¼Œå½“ä¼ æ’­æ—¶ï¼Œä¼šå¯¼è‡´å¤§è¯¯å·®ã€‚å› æ­¤ï¼Œæ²¿ç€å›¾çš„Cycle basisï¼ˆå¾ªç¯åŸºåº•ï¼‰ distributeæ—‹è½¬å’Œå¹³ç§»è¯¯å·®ï¼Œä»¥è·å¾—æ ¡æ­£çš„ä½å§¿å›¾ã€‚</p></li>
<li><p>é€šè¿‡æœ€å°åŒ–æ‰€æœ‰è§‚å¯Ÿå¸§ä¸­å¹³é¢æ ‡è®°çš„é‡æŠ•å½±è¯¯å·®æ¥æ‰§è¡Œå…¨å±€ä½å§¿ä¼˜åŒ–ã€‚</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>å¾ªç¯åŸºåº•ï¼ˆå®ƒæ˜¯å¾ªç¯çš„æœ€å°é›†åˆï¼‰</p>
<figure class="align-center align-default">
<img alt="../../../../../_images/126.jpg" src="../../../../../_images/126.jpg" />
</figure>
</div>
<p>SfMå’ŒSlamå…³äºç›¸æœºå®šä½å¤§éƒ½ä¾èµ–äºå…³é”®ç‚¹æ³•ï¼Œç„¶è€Œå…³é”®ç‚¹åŒ¹é…å¯¹åœ¨å°ºåº¦ã€æ—‹è½¬çš„ä¸å˜æ€§ä¸Šç›¸å½“æœ‰é™ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹æ— æ³•è¯†åˆ«ä¸åŒè§†ç‚¹ä¸‹çš„åœºæ™¯ã€‚</p>
<p>æ–¹å½¢å¹³é¢æ ‡è®°è¢«è®¾è®¡ä¸ºæ˜“äºä»æ›´å¹¿æ³›çš„ä½ç½®æ£€æµ‹ï¼Œæ–¹å½¢æ ‡è®°ä½¿ç”¨å¤–éƒ¨ï¼ˆæ˜“äºæ£€æµ‹ï¼‰é»‘è‰²è¾¹æ¡†å’Œå†…éƒ¨äºŒè¿›åˆ¶ä»£ç è¿›è¡Œè¯†åˆ«ã€é”™è¯¯æ£€æµ‹å’Œçº æ­£ã€‚
å•ä¸ªæ ‡è®°æä¾›å››ä¸ªå¯¹åº”ç‚¹ï¼Œå¯ä»¥ä»¥äºšåƒç´ ç²¾åº¦è¿›è¡Œå®šä½ï¼Œä»¥è·å¾—å‡†ç¡®çš„ç›¸æœºä½å§¿ä¼°è®¡ã€‚</p>
<p>æœ¬æ–‡æå‡ºäº†è§£å†³å¹³é¢æ ‡è®°æ˜ å°„å’Œå®šä½é—®é¢˜çš„æ–¹æ³•ã€‚</p>
<dl class="field-list simple">
<dt class="field-odd">è´¡çŒ®</dt>
<dd class="field-odd"><ol class="arabic simple">
<li><p>å°†æ ‡è®°æ˜ å°„é—®é¢˜ä½œä¸ºç¨€ç–æŸè°ƒæ•´é—®é¢˜çš„å˜ä½“æ¥è§£å†³ï¼Œä½†è€ƒè™‘åˆ°æ ‡è®°çš„å››ä¸ªè§’å¿…é¡»è”åˆä¼˜åŒ–ã€‚è¯¥æ–¹æ³•å‡å°‘äº†è¦ä¼˜åŒ–çš„å˜é‡æ•°é‡ï¼Œå¹¶ç¡®ä¿åœ¨ä¼˜åŒ–æœŸé—´å¼ºåˆ¶æ‰§è¡Œè§’ä¹‹é—´çš„çœŸå®è·ç¦»ã€‚</p></li>
<li><p>æå‡ºäº†ä¸€ç§åŸºäºå›¾çš„æ–¹æ³•æ¥è·å¾—å¤„ç†æ­§ä¹‰é—®é¢˜çš„æ ‡è®°åˆå§‹å›¾ã€‚ ä¸ºæ­¤ï¼Œé¦–å…ˆåˆ›å»º <strong>a quiver of poses</strong>ï¼Œä»ä¸­è·å¾—åˆå§‹å§¿åŠ¿å›¾ï¼Œç„¶åå¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œæ²¿å…¶å¾ªç¯åˆ†å¸ƒæ—‹è½¬å’Œå¹³ç§»è¯¯å·®ã€‚</p></li>
</ol>
</dd>
</dl>
<p>è€ƒè™‘ä»»æ„å‚è€ƒç³» <span class="math notranslate nohighlight">\(a\)</span> ä¸­çš„ä¸‰ç»´ç‚¹  <span class="math notranslate nohighlight">\(p_a = (x,y,z)\)</span> ã€‚</p>
<p>ä¸ºäº†å°†è¿™æ ·çš„ç‚¹è¡¨è¾¾åˆ°å¦ä¸€ä¸ªå‚è€ƒç³»ç»Ÿ b ä¸­ï¼Œå®ƒå¿…é¡»ç»è¿‡æ—‹è½¬å’Œå¹³ç§»ã€‚</p>
<div class="math notranslate nohighlight">
\[\zeta = (r,t)|r,t \in R^3\]</div>
<p>ä½¿ç”¨ç½—å¾·é‡Œæ ¼æ–¯çš„æ—‹è½¬å…¬å¼ï¼Œå¯ä»¥ä»æ—‹è½¬å‘é‡ <span class="math notranslate nohighlight">\(r\)</span> è·å¾—æ—‹è½¬çŸ©é˜µ <span class="math notranslate nohighlight">\(R\)</span> ä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[R = I_{3\times 3} + \overline{r} sin\theta + \overline{r}^2 (1-cos\theta)\]</div>
<p>å…¶ä¸­ <span class="math notranslate nohighlight">\(I_{3\times 3}\)</span> æ˜¯å•ä½çŸ©é˜µï¼Œ <span class="math notranslate nohighlight">\(\overline{r}\)</span> è¡¨ç¤ºåå¯¹ç§°çŸ©é˜µã€‚</p>
<p>ç„¶åï¼Œç»“åˆ tï¼Œå¾—åˆ° <span class="math notranslate nohighlight">\(4 \times 4\)</span> çŸ©é˜µï¼š</p>
<div class="math notranslate nohighlight">
\[\begin{split}\gamma = \Gamma(\zeta) = \left[
\begin{matrix}
R &amp; t^T\\0 &amp; 1
\end{matrix}
\right]\end{split}\]</div>
<p>å¯ç”¨äºå°†ç‚¹ä» <span class="math notranslate nohighlight">\(a\)</span> è½¬æ¢ä¸º <span class="math notranslate nohighlight">\(b\)</span> ä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[\begin{split}\left[
\begin{matrix}
p_b^T\\1
\end{matrix}
\right] = \gamma \left[
\begin{matrix}
p_a^T\\1
\end{matrix}
\right]\end{split}\]</div>
<p>ä¸ºäº†ç®€åŒ–ç¬¦å·ï¼Œå°†å®šä¹‰è¿ç®—ç¬¦ <span class="math notranslate nohighlight">\((Â·)\)</span> æ¥è¡¨ç¤ºï¼š <span class="math notranslate nohighlight">\(p_b = \gamma Â· p_a\)</span></p>
<p>ç‚¹ <span class="math notranslate nohighlight">\(p\)</span> åœ¨ç›¸æœºå¹³é¢ä¸­æŠ•å½±åˆ°åƒç´  <span class="math notranslate nohighlight">\(u \in R^2\)</span> ä¸­ã€‚ å‡è®¾ç›¸æœºå‚æ•°æ˜¯å·²çŸ¥çš„ï¼ŒæŠ•å½±å¯ä»¥ä½œä¸ºä¸€ä¸ªå‡½æ•°è·å¾—ï¼š</p>
<div class="math notranslate nohighlight">
\[u = \Psi(\delta, \gamma,p)\]</div>
<p>å…¶ä¸­ï¼š</p>
<div class="math notranslate nohighlight">
\[\delta = (f_x, f_y, c_x, c_y, k_1, ..., k_n)\]</div>
<p>ä¸ºç›¸æœºå†…å‚ï¼Œç”±ç„¦è· <span class="math notranslate nohighlight">\((f_x,f_y)\)</span> ã€å…‰å¿ƒ <span class="math notranslate nohighlight">\((c_x, c_y)\)</span> å’Œç•¸å˜å‚æ•° <span class="math notranslate nohighlight">\((k_1,...,k_n)\)</span> ç»„æˆã€‚</p>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>ç¬¦å·è¯´æ˜ï¼š</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(f^t:\)</span> ç›¸æœºåœ¨ t æ—¶åˆ»è·å–çš„å›¾åƒã€‚</p></li>
<li><p>frsï¼šå¸§å‚è€ƒç³»ç»Ÿã€‚ è·å–å¸§æ—¶å‚è€ƒç³»ç»Ÿä»¥ç›¸æœºåŸç‚¹ä¸ºä¸­å¿ƒã€‚ æ¯ä¸ªå¸§éƒ½æœ‰è‡ªå·±çš„frsã€‚</p></li>
<li><p>mrsï¼šmarkerå‚è€ƒç³»ç»Ÿã€‚ ä»¥markerä¸ºä¸­å¿ƒçš„å‚è€ƒç³»ç»Ÿã€‚ æ¯ä¸ªæ ‡è®°éƒ½æœ‰è‡ªå·±çš„mrsã€‚</p></li>
<li><p>grsï¼šå…¨å±€å‚è€ƒç³»ã€‚å¸Œæœ›è·å¾—æ‰€æœ‰åº¦é‡çš„å…¬å…±å‚è€ƒç³»ç»Ÿã€‚</p></li>
<li><p><span class="math notranslate nohighlight">\(\gamma_i: mrs \rightarrow grs\)</span>  å°†ç‚¹ä» <span class="math notranslate nohighlight">\(marker_i\)</span> çš„å‚è€ƒç³»è½¬æ¢ä¸ºå…¨å±€å‚è€ƒç³»ã€‚</p></li>
<li><p><span class="math notranslate nohighlight">\(\gamma_{j,i}: mrs \rightarrow mrs\)</span> å°†ç‚¹ä» <span class="math notranslate nohighlight">\(marker_i\)</span> çš„å‚è€ƒç³»è½¬æ¢ä¸º <span class="math notranslate nohighlight">\(marker_j\)</span> çš„å‚è€ƒç³»ã€‚</p></li>
<li><p><span class="math notranslate nohighlight">\(\gamma^t: grs \rightarrow frs\)</span> å°†ç‚¹ä»å…¨å±€å‚è€ƒç³»è½¬æ¢ä¸ºç¬¬ <span class="math notranslate nohighlight">\(t\)</span> å¸§çš„å‚è€ƒç³»ã€‚</p></li>
<li><p><span class="math notranslate nohighlight">\(\gamma^t_i: mrs \rightarrow frs\)</span> å°†ç‚¹ä» <span class="math notranslate nohighlight">\(marker_i\)</span> çš„å‚è€ƒç³»è½¬æ¢åˆ°ç¬¬ <span class="math notranslate nohighlight">\(t\)</span> å¸§çš„å‚è€ƒç³»ã€‚</p></li>
<li><p><span class="math notranslate nohighlight">\(\gamma^t_{j,i}: mrs \rightarrow mrs\)</span> æ ¹æ®åœ¨ç¬¬ <span class="math notranslate nohighlight">\(t\)</span> å¸§ä¸­ä¸¤è€…çš„observationï¼Œå°†ç‚¹ä» <span class="math notranslate nohighlight">\(marker_i\)</span> çš„å‚è€ƒç³»è½¬æ¢ä¸º <span class="math notranslate nohighlight">\(marker_j\)</span> çš„å‚è€ƒç³»ã€‚</p></li>
</ul>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå½“ä½¿ç”¨å˜æ¢ <span class="math notranslate nohighlight">\(\gamma\)</span> æ—¶ï¼Œä¸Šæ ‡æŒ‡çš„æ˜¯å¸§ï¼Œè€Œä¸‹æ ‡æŒ‡çš„æ˜¯markerã€‚</p>
</div>
<p>æœ¬æ–‡å°†é—®é¢˜è¡¨è¿°ä¸ºåœ¨ä¸€ç»„å¸§ä¸­æ‰¾åˆ°çš„æ ‡è®°è§’ç‚¹çš„é‡æŠ•å½±è¯¯å·®çš„æœ€å°åŒ–ï¼Œè·å¾—ä¸€ä¸ªéçº¿æ€§æ–¹ç¨‹ã€‚ç”±äº LM ç®—æ³•æ˜¯ä¸€ç§å±€éƒ¨æœç´¢æ–¹æ³•ï¼Œå› æ­¤éœ€è¦è‰¯å¥½çš„åˆå§‹ä¼°è®¡ä»¥é¿å…é™·å…¥å±€éƒ¨æœ€å°å€¼ã€‚</p>
<p>è™½ç„¶é—®é¢˜ç±»ä¼¼äºBAï¼Œä½†å…¬å¼é€šè¿‡è”åˆä¼˜åŒ–æ¯ä¸ªæ ‡è®°çš„å››ä¸ªè§’ç‚¹æ¥å‡å°‘å˜é‡çš„æ•°é‡ã€‚ å®ƒè¿˜ç¡®ä¿åœ¨ä¼˜åŒ–æœŸé—´å¼ºåˆ¶æ‰§è¡Œmarkerä¹‹é—´çš„å®é™…è·ç¦»ã€‚</p>
<p>è€ƒè™‘ä¸€ä¸ªæ­£æ–¹å½¢å¹³é¢markerï¼Œè¾¹é•¿ä¸º sï¼Œå…¶å››ä¸ªè§’å¯ä»¥ç›¸å¯¹äºmarkerä¸­å¿ƒè¡¨ç¤ºä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[\begin{split}c_1 = (s / 2, -s / 2, 0)\\
c_2 = (s / 2, s / 2, 0)\\
c_3 = (-s / 2, s / 2, 0)\\
c_4 = (-s / 2, s / 2, 0)\end{split}\]</div>
<p>ç”¨ <span class="math notranslate nohighlight">\(M = \{m\}\)</span> è¡¨ç¤ºæ”¾ç½®åœ¨ç¯å¢ƒä¸­çš„ä¸€ç»„markerï¼Œ å¹¶ç”¨ <span class="math notranslate nohighlight">\(\gamma_m\)</span> è¡¨ç¤ºå®ƒä»¬çš„å§¿åŠ¿ï¼Œå³ä» mrs ç§»åŠ¨ç‚¹åˆ° grs çš„å˜æ¢ã€‚</p>
<div class="admonition important">
<p class="admonition-title">é‡è¦</p>
<p>è¯·æ³¨æ„ï¼Œå‡ºäºæ˜ å°„ç›®çš„ï¼Œä»…è€ƒè™‘è§‚å¯Ÿè‡³å°‘ä¸¤ä¸ªæ ‡è®°çš„å¸§ï¼Œå³  <span class="math notranslate nohighlight">\(|ft| &gt; 1\)</span>ã€‚</p>
</div>
<div class="admonition attention">
<p class="admonition-title">æ³¨æ„</p>
<p>åœ¨æœ¬æ–‡çš„é—®é¢˜ä¸­ï¼Œä½å§¿ <span class="math notranslate nohighlight">\(\gamma_m\)</span> å’Œ <span class="math notranslate nohighlight">\(\gamma^t\)</span> æ˜¯è¦ä¼˜åŒ–çš„å‚æ•°ï¼Œè€Œ <span class="math notranslate nohighlight">\(\omega_i^t\)</span> æ˜¯å¯ç”¨çš„è§‚æµ‹å€¼ã€‚</p>
<p>å¦‚æœéœ€è¦ï¼Œç›¸æœºå‚æ•° <span class="math notranslate nohighlight">\(\delta\)</span> ä¹Ÿå¯ä»¥ä½œä¸ºä¼˜åŒ–è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>ç„¶åï¼Œè¯¥é—®é¢˜ç±»ä¼¼äºBAé—®é¢˜ã€‚ ä½†ä¸»è¦åŒºåˆ«åœ¨äºï¼Œè™½ç„¶ BA å‡è®¾ç‚¹å½¼æ­¤ç‹¬ç«‹ï¼Œä½†åœ¨æœ¬æ–‡æå‡ºçš„å…¬å¼ä¸­ï¼Œmarkerçš„å››ä¸ªç‚¹å½¢æˆäº†ä¸€ä¸ªä»…ç”±å…­ä¸ªå‚æ•°ï¼ˆå³ <span class="math notranslate nohighlight">\(\gamma_m\)</span> ï¼‰è¡¨ç¤ºçš„åˆšæ€§å¯¹è±¡ã€‚</p>
<dl class="field-list simple">
<dt class="field-odd">ä¼˜ç‚¹</dt>
<dd class="field-odd"><ol class="arabic simple">
<li><p>å‡å°‘å‚æ•°æ•°é‡ï¼Œé™ä½ä¼˜åŒ–çš„å¤æ‚æ€§ã€‚</p></li>
<li><p>ç¡®ä¿markerè¿ç»­è§’ç‚¹ï¼ˆlt - rt - rb - lbï¼‰ä¹‹é—´çš„è·ç¦»ä¸º <span class="math notranslate nohighlight">\(s\)</span> ï¼Œä½¿ç”¨ä¸€èˆ¬ BA å…¬å¼æ— æ³•ä¿è¯è¿™ä¸€ç‚¹ã€‚</p></li>
</ol>
</dd>
</dl>
<p>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œé—®é¢˜éƒ½ä¼šå‡å°‘åˆ°æœ€å°åŒ–æ‰€æœ‰å¸§ä¸­æ ‡è®°è§’ç‚¹çš„å¹³æ–¹é‡æŠ•å½±è¯¯å·®ï¼Œä»è€Œæ‰¾åˆ°å‚æ•°çš„å€¼ã€‚</p>
<p>åœ¨å¸§ <span class="math notranslate nohighlight">\(f^t\)</span> ä¸­æ£€æµ‹åˆ°çš„ <span class="math notranslate nohighlight">\(marker_i\)</span>  çš„é‡æŠ•å½±è¯¯å·®æ˜¯é€šè¿‡æ¯”è¾ƒå…¶è§’ç‚¹çš„è§‚å¯ŸæŠ•å½±è€Œè·å¾—çš„ã€‚</p>
<div class="math notranslate nohighlight">
\[u_{i,j}^t, j = 1...4, i\in f^t\]</div>
<p>ä¸é¢„æµ‹çš„</p>
<div class="math notranslate nohighlight">
\[e_i^t = \sum\limits_j [\Psi(\delta, \gamma^t, \gamma_i Â· c_j) - u_{i,j}^t]^2\]</div>
<p>å…¶ä¸­ <span class="math notranslate nohighlight">\(\Psi\)</span> æ˜¯å®šä¹‰çš„æŠ•å½±å‡½æ•°</p>
<p>å› æ­¤ï¼Œæ•´ä¸ªå¸§ä¸­çš„æ€»é‡æŠ•å½±è¯¯å·®è¡¨ç¤ºä¸ºæ ‡è®°ä½å§¿ã€å¸§ä½å§¿å’Œç›¸æœºå†…å‚çš„å‡½æ•°ï¼š</p>
<div class="math notranslate nohighlight">
\[e(\gamma_1, ..., \gamma_M, \gamma^1, ... , \gamma^N, \delta) = \sum\limits_t \sum\limits_{i\in f^t} e_i^t\]</div>
<p>å…¶ä¸­ <span class="math notranslate nohighlight">\(M\)</span> å’Œ <span class="math notranslate nohighlight">\(N\)</span> åˆ†åˆ«ä»£è¡¨markerå’Œå¸§çš„æ•°é‡ã€‚</p>
</div>
<hr class="docutils" />
<p>ä»¤ Q ä¸ºpose quiverï¼Œå…¶ä¸­èŠ‚ç‚¹è¡¨ç¤ºmarkerï¼Œè¾¹è¡¨ç¤ºå®ƒä»¬ä¹‹é—´çš„ç›¸å¯¹ä½å§¿ã€‚ ç”¨</p>
<div class="math notranslate nohighlight">
\[\epsilon^t = \{\gamma_i^t | i \in f^t\}\]</div>
<p>ä½¿ç”¨å¹³é¢ä½å§¿ä¼°è®¡æ–¹æ³•ä¸ºå¸§ <span class="math notranslate nohighlight">\(f^t\)</span> ä¸­æ£€æµ‹åˆ°çš„æ ‡è®°ä¼°è®¡çš„ä½å§¿é›†åˆã€‚</p>
<p>å…ƒç´  <span class="math notranslate nohighlight">\(\gamma_i^t \in \epsilon^t :mrs â†’ frs\)</span> ï¼Œè¡¨ç¤ºå°†ç‚¹ä» <span class="math notranslate nohighlight">\(marker_i\)</span> çš„ mrs ç§»åŠ¨åˆ°frs çš„ <span class="math notranslate nohighlight">\(f^t\)</span> çš„å˜æ¢ã€‚</p>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>å¹³é¢ä½å§¿ä¼°è®¡å™¨è¿”å›ä¸¤ä½å§¿ï¼Œä¸€ä¸ªæ˜¯æ­£ç¡®çš„ï¼Œå¦ä¸€ä¸ªå¯¹åº”äºæ¨¡ç³Šè§£ã€‚</p>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸€ä¸ªè§£çš„é‡æŠ•å½±è¯¯å·®è¿œå¤§äºå¦ä¸€ä¸ªè§£çš„é‡æŠ•å½±è¯¯å·®ï¼Œå› æ­¤ä¸å­˜åœ¨äºŒä¹‰æ€§é—®é¢˜ï¼Œå³å¾ˆæ˜æ˜¾ï¼Œé‡æŠ•å½±è¯¯å·®æœ€å°çš„è§£æ˜¯å¥½çš„è§£ã€‚</p>
<p>åœ¨å…¶ä»–ä¸€äº›æƒ…å†µä¸‹ï¼Œä¸¤ç§é‡æŠ•å½±è¯¯å·®éå¸¸ç›¸ä¼¼ã€‚ å¾ˆéš¾åˆ¤æ–­å“ªç§è§£å†³æ–¹æ¡ˆæ˜¯å¥½çš„ï¼Œå› æ­¤æ”¾å¼ƒå¯¹è¯¥ <span class="math notranslate nohighlight">\(marker\)</span> çš„è§‚å¯Ÿï¼Œå³æ²¡æœ‰ä¸ºè¯¥ç‰¹å®šæ ‡è®°æ·»åŠ åˆ° <span class="math notranslate nohighlight">\(\epsilon^t\)</span> çš„è§£ã€‚</p>
<p>å› æ­¤ <span class="math notranslate nohighlight">\(|\epsilon^t| \le |f^t|\)</span></p>
</div>
<p>å¯ä»¥ä½¿ç”¨ <span class="math notranslate nohighlight">\(\epsilon^t\)</span> ä¸­çš„å…ƒç´ æ¥è·å¾—è§‚å¯Ÿåˆ°çš„ <span class="math notranslate nohighlight">\(marker\)</span> ä¹‹é—´çš„ç›¸å¯¹ä½å§¿ã€‚</p>
<p>å®šä¹‰ <span class="math notranslate nohighlight">\(\gamma^t(mrs\rightarrow mrs)\)</span> ï¼Œä½œä¸ºæ ¹æ® <span class="math notranslate nohighlight">\(f^t\)</span> ä¸­çš„è§‚æµ‹ï¼Œå°†ç‚¹ä» <span class="math notranslate nohighlight">\(marker_i\)</span> çš„å‚è€ƒç³»è½¬æ¢åˆ° <span class="math notranslate nohighlight">\(marker_j\)</span> çš„å‚è€ƒç³»çš„ä½å§¿ï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[\begin{split}\gamma_{j,i}^t = (r_j^t)^{-1} \gamma_i^t = \left[
\begin{matrix}
R_{j,i}^t &amp; t_{j,i}^t\\0 &amp; 1
\end{matrix}
\right]\end{split}\]</div>
<p>ç„¶åå°†ç”¨ <span class="math notranslate nohighlight">\(n = |Î¾t|\)</span> è¡¨ç¤ºï¼š</p>
<div class="math notranslate nohighlight">
\[\Psi^t = \{\gamma_{2,1}^t, \gamma_{3,1}^t, Â·Â·Â·, \gamma_{n,1}^t, \gamma_{3,2}^t,Â·Â·Â·,\gamma_{n,n-1}^t\}\]</div>
<p>ä»¥è¡¨ç¤ºæ­¤ç±»å˜æ¢çš„æ‰€æœ‰ç»„åˆçš„é›†åˆï¼Œä» i åˆ° j çš„å˜æ¢åŠå…¶é€†å¯ä»¥å¾ˆå®¹æ˜“åœ°è®¡ç®—ä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[\gamma_{i,j}^t = (\gamma_{j,i}^t)^{-1}\]</div>
<section id="initial-pose-graph">
<h2><span class="section-number">35.1. </span>Initial pose graph<a class="headerlink" href="#initial-pose-graph" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">ïƒ</a></h2>
<p>ä½¿ç”¨æ¥è‡ª quiver  <span class="math notranslate nohighlight">\(Q\)</span> çš„æœ€ä½³ intermarker ä½å§¿ï¼Œåˆ›å»ºæœ‰å‘ä½å§¿å›¾ <span class="math notranslate nohighlight">\(G\)</span> ï¼Œå…¶ä¸­èŠ‚ç‚¹è¡¨ç¤ºæ ‡è®°ï¼Œè¾¹ç¼˜è¡¨ç¤ºå®ƒä»¬çš„ç›¸å¯¹ä½å§¿ã€‚</p>
<p>æ¯æ¡è¾¹  <span class="math notranslate nohighlight">\(e = (i, j)\)</span>ï¼Œå®šä¹‰æƒé‡:</p>
<div class="math notranslate nohighlight">
\[\omega(e) = e_{j,i}(\hat{\gamma}_{j,i}),\]</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Triangulation_Why_Optimize/Triangulation_Why_Optimize.html" class="btn btn-neutral float-left" title="34. Triangulation: Why Optimize?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> ä¸Šä¸€é¡µ</a>
        <a href="../GAM/GAM.html" class="btn btn-neutral float-right" title="36. Geometry-aware Feature Matching for Structure from Motion Applications" accesskey="n" rel="next">ä¸‹ä¸€é¡µ <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; ç‰ˆæƒæ‰€æœ‰ 2021, linzzz.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>