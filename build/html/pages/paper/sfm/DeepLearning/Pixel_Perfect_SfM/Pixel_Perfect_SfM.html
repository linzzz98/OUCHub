

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>36. Pixel-Perfect Structure-from-Motion with Featuremetric Refinement &mdash; OUCHub  æ–‡æ¡£</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/twemoji.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/language_data.js"></script>
        <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"></script>
        <script src="../../../../../_static/twemoji.js"></script>
        <script src="../../../../../_static/translations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="ç´¢å¼•" href="../../../../../genindex.html" />
    <link rel="search" title="æœç´¢" href="../../../../../search.html" />
    <link rel="next" title="ğŸŠ SLAM" href="../../../p_slam.html" />
    <link rel="prev" title="35. DeepSFM: Structure From Motion Via Deep Bundle Adjustment" href="../DeepSfM/DeepSfM.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> OUCHub
          

          
            
            <img src="../../../../../_static/logo_1.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="åœ¨æ–‡æ¡£ä¸­æœç´¢" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">åŸºç¡€çŸ¥è¯†</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge/k_MH.html">ğŸ’Š Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge/k_CV.html">ğŸ¤ Computer Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge/k_ML.html">ğŸ Machine Learning</a></li>
</ul>
<p class="caption"><span class="caption-text">è®ºæ–‡å­¦ä¹ </span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../p_sfm.html">ğŸŠ Structure from Motion</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Structure-from-Motion_Revisited/Structure-from-Motion_Revisited.html">1. Structure-from-Motion Revisited</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Hierarchical_Structure-And-Motion/Hierarchical_Structure-And-Motion.html">2. Hierarchical structure-and-motion recovery from uncalibrated images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/View-graph_SfM/View-graph_SfM.html">3. View-graph Selection Framework for SfM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/View-graph_Framework/View-graph_Framework.html">4. View-graph construction framework for robust and efficient structure-from-motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/MarkerSfM/MarkerSfM.html">5. Improved Structure from Motion Using Fiducial Marker Matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Privacy_SfM/Privacy_SfM.html">6. Privacy Preserving Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/SfM_with_Line_Segments/SfM_with_Line_Segments.html">7. Structure from Motion with Line Segments Under Relaxed Endpoint Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Line_based_SfM/Line_based_SfM.html">8. Line-based Robust SfM with Little Image Overlap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Voting_based_SfM/Voting_based_SfM.html">9. Voting-based Incremental Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Incremental/Graph_based_SfM/Graph_based_SfM.html">10. Graph-Based Consistent Matching for Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/CSfM/CSfM.html">11. CSFM: COMMUNITY-BASED STRUCTURE FROM MOTION</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Very_Large-Scale_Global_SfM/Very_Large-Scale_Global_SfM.html">12. Very Large-Scale Global SfM by Distributed Motion Averaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/GlobalSfM_SA/GlobalSfM_SA.html">13. Global Structure-from-Motion by Similarity Averaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/GlobalSfM_Application/GlobalSfM_Application.html">14. Global Structure-from-Motion and Its Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Efficient_Initial_Pose-graph/Efficient_Initial_Pose-graph.html">15. Efficient Initial Pose-graph Generation for Global SfM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Optimizing_the_Viewing_Graph/Optimizing_the_Viewing_Graph.html">16. Optimizing the Viewing Graph for Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Reducing_Drift_Using_Extended_Feature/Reducing_Drift_Using_Extended_Feature.html">17. Reducing Drift in Structure From Motion Using Extended Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Global/Rotation_BA/Rotation_BA.html">18. Rotation-Only Bundle Adjustment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Hybrid/HSfM/HSfM.html">19. HSfM: Hybrid Structure-from-Motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../LocalMethod/Hybrid/View_Graph_Construction/View_Graph_Construction.html">20. View-graph construction framework for robust and efficient structure-from-motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/A_Global_Linear_Method_for_Camera_Pose_Registration/A_Global_Linear_Method_for_Camera_Pose_Registration.html">21. A Global Linear Method for Camera Pose Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Robust_Rotation_and_Translation_Estimation/Robust_Rotation_and_Translation_Estimation.html">22. Robust Rotation and Translation Estimation in Multiview Reconstruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/FivePoint_Relative_Pose_Problem/FivePoint_Relative_Pose_Problem.html">23. An Effcient Solution to the Five-Point Relative Pose Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Hybrid_Camera_Estimation/Hybrid_Camera_Estimation.html">24. Hybrid Camera Pose Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Lie_Averaging/Lie_Averaging.html">25. Lie-Algebraic Averaging For Globally Consistent Motion Estimation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Efficient_Robust_Rotation_Averaging/Efficient_Robust_Rotation_Averaging.html">26. Efficient and Robust Large-Scale Rotation Averaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Robust_Relative_Rotation_Averaging/Robust_Relative_Rotation_Averaging.html">27. Robust Relative Rotation Averaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Privacy_Image_Queries/Privacy_Image_Queries.html">28. Privacy Preserving Image Queries for Camera Localization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Privacy_Location/Privacy_Location.html">29. Privacy Preserving Image-Based Localization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Using _Many_Cameras_as_One/Using _Many_Cameras_as_One.html">30. Using Many Cameras as One</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Pose_Estimation_From_Points_Lines/Pose_Estimation_From_Points_Lines.html">31. Accurate and Linear Time Pose Estimation from Points and Lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Solver6L/Solver6L.html">32. Solutions to Minimal Generalized Relative Pose Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CameraPose/Geometric_Interpretations/Geometric_Interpretations.html">33. Geometric Interpretations of the Normalized Epipolar Error</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SfMLearner/SfMLearner.html">34. Unsupervised Learning of Depth and Ego-Motion from Video</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DeepSfM/DeepSfM.html">35. DeepSFM: Structure From Motion Via Deep Bundle Adjustment</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">36. Pixel-Perfect Structure-from-Motion with Featuremetric Refinement</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#background">36.1. Background</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#global-refinement">36.1.1. Global refinement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#track-refinement">36.1.2. Track refinement</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#approach">36.2. Approach</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#keypoint-adjustment">36.2.1. Keypoint adjustment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bundle-adjustment">36.3. Bundle Adjustment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implementation">36.4. Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments">36.5. Experiments</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../p_slam.html">ğŸŠ SLAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../p_pointcloud.html">ğŸ‹ Point Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../p_BA.html">ğŸŠ Bundle Adjustment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../p_others.html">ğŸ’ Others</a></li>
</ul>
<p class="caption"><span class="caption-text">æºç è§£æ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../code/colmap.html">ğŸ‘ Colmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../code/theiasfm.html">ğŸ‘ TheiaSfM</a></li>
</ul>
<p class="caption"><span class="caption-text">æ‚ä¸ƒæ‚å…«</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../others/o_others.html">ğŸº Others</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">OUCHub</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../p_sfm.html">ğŸŠ Structure from Motion</a> &raquo;</li>
        
      <li><span class="section-number">36. </span>Pixel-Perfect Structure-from-Motion with Featuremetric Refinement</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/pages/paper/sfm/DeepLearning/Pixel_Perfect_SfM/Pixel_Perfect_SfM.rst.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pixel-perfect-structure-from-motion-with-featuremetric-refinement">
<h1><span class="section-number">36. </span>Pixel-Perfect Structure-from-Motion with Featuremetric Refinement<a class="headerlink" href="#pixel-perfect-structure-from-motion-with-featuremetric-refinement" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<p>åœ¨ 3D é‡å»ºä»»åŠ¡ä¸­ï¼Œ<strong>è·¨è§†è§’å¯å¤æ£€çš„ç‰¹å¾ç‚¹æå–å°¤ä¸ºé‡è¦</strong>ã€‚åŸæœ‰çš„ SFM æ¡†æ¶ä¸­ï¼Œç‰¹å¾æå–ä¹‹åå…¶ä½ç½®å¹¶ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè‹¥è¿™ä¸ªæå–è¿‡ç¨‹ä¸­å‡ºç°äº†è¯¯å·®ï¼ˆå™ªå£°å¹²æ‰°ï¼‰ï¼ŒåŠ¿å¿…é€ æˆåç»­å‡ ä½•ç»“æ„çš„è¯¯å·®ç´¯è®¡ã€‚</p>
<dl class="field-list">
<dt class="field-odd">ä¼ ç»Ÿ</dt>
<dd class="field-odd"><p>ç»å…¸ç®—æ³•ä¸€æ¬¡æ£€æµ‹æ‰€æœ‰ç‰¹å¾ç‚¹ï¼Œå¯¹äºè¯¯å·®è¾ƒå¤§çš„ç‰¹å¾ï¼Œä¼šå½±å“æœ€ç»ˆé‡å»ºçš„ç»“æœã€‚</p>
</dd>
<dt class="field-even">æœ¬æ–‡</dt>
<dd class="field-even"><p>é€šè¿‡ç›´æ¥å¯¹é½æ¥è‡ªå¤šä¸ªè§†å›¾çš„ä½çº§å›¾åƒä¿¡æ¯ï¼Œä¼˜åŒ–SfMçš„ä¸¤ä¸ªå…³é”®æ­¥éª¤ï¼š</p>
<ol class="arabic simple">
<li><p>ç‰¹å¾åŒ¹é…åä½¿ç”¨ Featuremetric ï¼ˆæ·±åº¦ç‰¹å¾åº¦é‡ï¼‰å¯¹ç‰¹å¾ç‚¹ä½ç½®è¿›è¡Œä¼˜åŒ–</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>å¢é‡é‡å»ºè¿‡ç¨‹ä¸­é€šè¿‡ç±»ä¼¼çš„ Featuremetric è¿›è¡Œ BAï¼ˆé‡æŠ•å½±è¯¯å·® <span class="math notranslate nohighlight">\(\longrightarrow\)</span> Featuremetric è¯¯å·®ï¼‰</p></li>
</ol>
</dd>
</dl>
<p>SfMçš„ç¨€ç–å…³é”®ç‚¹å¯ä»¥è·¨å›¾ç‰‡çš„æ£€ç´¢ï¼Œä½†ç”±äºå¤–è§‚å˜åŒ–å’Œç¦»æ•£å›¾åƒé‡‡æ ·ï¼Œä»å•ä¸ªè§†å›¾æ£€æµ‹å…³é”®ç‚¹æœ¬è´¨ä¸Šæ˜¯ä¸å‡†ç¡®çš„ã€‚</p>
<p><strong>ç”¨äºæ£€æµ‹çš„å·ç§¯ç¥ç»ç½‘ç»œçš„å‡ºç°è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸ä¸ä¿ç•™å±€éƒ¨å›¾åƒä¿¡æ¯ï¼Œè€Œæ˜¯æ”¯æŒå…¨å±€ä¸Šä¸‹æ–‡ã€‚</strong></p>
<p>æœ¬æ–‡å·¥ä½œä¸­ï¼Œè®¤ä¸ºå±€éƒ¨å›¾åƒä¿¡æ¯å¯¹äºæé«˜SfMçš„å‡†ç¡®æ€§æ˜¯æœ‰ç”¨çš„ï¼Œåœ¨é‡å»ºå‰åï¼Œé€šè¿‡åœ¨å­¦ä¹ çš„ç‰¹å¾ç©ºé—´ä¸­ç›´æ¥å¯¹é½å›¾åƒæ¥è°ƒæ•´å…³é”®ç‚¹å’Œbundlesã€‚åˆ©ç”¨è¿™ç§å±€éƒ¨å¯†é›†çš„ä¿¡æ¯æ¯”å‡ ä½•ä¼˜åŒ–è¦ç²¾ç¡®å¾—å¤šï¼Œè€ŒCNNæå–çš„æ·±å±‚é«˜ç»´ç‰¹å¾å¯ç¡®ä¿åœ¨å…·æœ‰æŒ‘æˆ˜æ€§çš„æ¡ä»¶ä¸‹æ›´å¹¿æ³›åœ°æ”¶æ•›ã€‚è¯¥å½¢å¼å·§å¦™åœ°ç»“åˆäº†å…¨å±€åŒºåˆ†ç¨€ç–åŒ¹é…å’Œå±€éƒ¨ç²¾ç¡®å¯†é›†ç»†èŠ‚ã€‚</p>
<div class="section" id="background">
<h2><span class="section-number">36.1. </span>Background<a class="headerlink" href="#background" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>ç»™å®šè§‚å¯Ÿåœºæ™¯çš„ <span class="math notranslate nohighlight">\(N\)</span> å¼ å›¾åƒ <span class="math notranslate nohighlight">\(\{I_i\}\)</span> ï¼Œä¼°è®¡çš„3Dç»“æ„ç”±ç¨€ç–ç‚¹äº‘ <span class="math notranslate nohighlight">\(\{P_i\}\)</span> ï¼Œç›¸æœºå†…å‚ <span class="math notranslate nohighlight">\(\{C_i\}\)</span> ï¼Œå›¾åƒä½å§¿å˜æ¢ <span class="math notranslate nohighlight">\(\{R_i, t_i\}\)</span> ç»„æˆã€‚</p>
<p>ç»å…¸SfM pipeline ä»å±äºåŒä¸€ä¸ª3Dç‚¹ä¸åŒè§†å›¾ä¸‹2Dç‚¹çš„track <span class="math notranslate nohighlight">\(\{p_u\}\)</span> ä¸­è¿›è¡Œå‡ ä½•ä¼°è®¡ï¼Œå…³é”®ç‚¹ä¹‹é—´ä½¿ç”¨æè¿°å­ <span class="math notranslate nohighlight">\(\{d_u\}\)</span> è¿›è¡ŒåŒ¹é…ã€‚</p>
<div class="admonition important">
<p class="admonition-title">é‡è¦</p>
<p>è¿›è¡Œå‡ ä½•ä¼°è®¡çš„æ—¶å€™ï¼Œåªç”¨åˆ°å…³é”®ç‚¹çš„ä½ç½®ï¼Œå› æ­¤ç‚¹çš„ä½ç½®ç²¾åº¦éå¸¸é‡è¦ã€‚ç‚¹çš„æ£€æµ‹ç®—æ³•åªè€ƒè™‘äº†å•å¼ å›¾ç‰‡çš„å±€éƒ¨ä½ç½®ï¼Œå¹¶æ²¡æœ‰åŒæ—¶è€ƒè™‘å¤šè§†è§’çš„ä¿¡æ¯ã€‚</p>
</div>
<div class="section" id="global-refinement">
<h3><span class="section-number">36.1.1. </span>Global refinement<a class="headerlink" href="#global-refinement" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>BAæœ€å°åŒ–å‡ ä½•è¯¯å·®ï¼š</p>
<div class="math notranslate nohighlight">
\[E_{BA} = \sum\limits_j \sum\limits_{(i,u) \in \mathcal{T}(j)} || \prod (R_i P_j + t_i, C_i) - p_u||_\gamma\]</div>
<dl class="field-list">
<dt class="field-odd">å…¶ä¸­</dt>
<dd class="field-odd"><p><span class="math notranslate nohighlight">\(\mathcal{T}(j)\)</span> æ˜¯track  <span class="math notranslate nohighlight">\(j\)</span> ä¸­çš„å›¾åƒå’Œå…³é”®ç‚¹çš„é›†åˆ</p>
<p><span class="math notranslate nohighlight">\(\prod(Â·)\)</span> æŠ•å½±åˆ°å›¾åƒå¹³é¢</p>
<p><span class="math notranslate nohighlight">\(||Â·||_\gamma\)</span> æ˜¯é²æ£’èŒƒæ•°ã€‚</p>
</dd>
</dl>
<p>è¯¥å…¬å¼éšå«åœ°é‡æ–°å®šä¹‰äº†å…³é”®ç‚¹ï¼ŒåŒæ—¶ç¡®ä¿äº†å®ƒä»¬çš„å‡ ä½•ä¸€è‡´æ€§ã€‚</p>
</div>
<div class="section" id="track-refinement">
<h3><span class="section-number">36.1.2. </span>Track refinement<a class="headerlink" href="#track-refinement" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>åˆ©ç”¨åŒ¹é…å›¾çš„å›ºæœ‰ç»“æ„æ¥ä¸¢å¼ƒä¸æ­£ç¡®çš„åŒ¹é…ï¼Œè€Œä¸ä¾èµ–äºå‡ ä½•çº¦æŸã€‚</p>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>è¯¥è¿‡ç¨‹å®é™…ä¸Šæ˜¯ä¾èµ–ä¸¤å¼ å›¾åƒè®¡ç®—å‡ºçš„å…‰æµï¼ˆç”±æ·±åº¦ç½‘ç»œå¾—åˆ°ï¼‰ï¼ŒåŒ¹é…ä¸¤ä¸ªå›¾åƒå¯¹åº”ç‚¹ï¼Œæ„æˆä¸€ä¸ªè¯¯å·®ã€‚è¿™ä¸ªå…‰æµæ˜¯è¾“å…¥æ¯ä¸ªå…³é”®ç‚¹çš„å°patchï¼Œç®—å‡ºä¸€ä¸ªå…‰æµã€‚æå‡äº†å…³é”®ç‚¹çš„ç²¾åº¦ï¼Œä½†ä»æœ‰ä¸€äº›è¯¯å·®ã€‚</p>
</div>
<div class="math notranslate nohighlight">
\[E_{KA}^j = \sum\limits_{(u,v) \in \mathcal{M}(j)} ||p_v + T_{v \rightarrow u}[p_v] - p_u ||_\gamma\]</div>
<p>å…¶ä¸­ <span class="math notranslate nohighlight">\(\mathcal{M}(i)\)</span> æ˜¯å½¢æˆtrackçš„åŒ¹é…é›†åˆï¼Œ <span class="math notranslate nohighlight">\([Â·]\)</span> æ˜¯å…·æœ‰å­åƒç´ æ’å€¼çš„æŸ¥æ‰¾ã€‚</p>
<div class="admonition important">
<p class="admonition-title">é‡è¦</p>
<p>ä¸Šè¿°è¿™ä¸¤ä¸ªrefinementéƒ½æ˜¯åŸºäºå‡ ä½•è§‚æµ‹ç‚¹ï¼Œä¹Ÿç§°ä¸ºå…³é”®ç‚¹çš„å®šä½ä¸æµï¼Œä½†æ²¡æœ‰è€ƒè™‘å®ƒä»¬å„è‡ªçš„ä¸ç¡®å®šæ€§ã€‚å› æ­¤éœ€è¦å¤§é‡çš„è§‚æµ‹ç‚¹æ¥å¹³å‡æ‰å™ªå£°ï¼Œæ¥æå‡ç²¾åº¦ï¼Œä½†æ˜¯è¿™ç§æå‡æ˜¯å—é™çš„ã€‚</p>
</div>
</div>
</div>
<div class="section" id="approach">
<h2><span class="section-number">36.2. </span>Approach<a class="headerlink" href="#approach" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<div class="admonition attention">
<p class="admonition-title">æ³¨æ„</p>
<p>æœ¬æ–‡çš„ä¼˜åŒ–æ¡†æ¶å¯åœ¨ä»»ä½•åŸºäºå±€éƒ¨ç‰¹å¾ç‚¹çš„ SFM æµç¨‹ä¸­ä½¿ç”¨ï¼š</p>
<p>ä½¿ç”¨ CNN æå–å›¾åƒç‰¹å¾å›¾(dense features)ï¼Œæ ¹æ®ç¨€ç–çš„ç‰¹å¾åŒ¹é…å¾—åˆ°åˆå§‹çš„ tracks(ä¸€ä¸ªtrackæ˜¯æŒ‡ï¼ŒåŒä¸€ä¸ª3Dç‚¹åœ¨ä¸åŒå›¾åƒä¸­çš„2Dè§‚æµ‹)ï¼Œè°ƒæ•´æ¯ä¸€ä¸ª track å¯¹åº”çš„ç‰¹å¾ç‚¹åœ¨å›¾åƒä¸­çš„ä½ç½®ï¼›æ ¹æ®è°ƒæ•´åçš„ä½ç½®è¿›è¡Œ SFM é‡å»ºï¼Œé‡å»ºè¿‡ç¨‹ä¸­çš„ BA ä¼˜åŒ–æ®‹å·®ç”±é‡æŠ•å½±è¯¯å·®å˜ä¸º Featuremetric è¯¯å·®ã€‚</p>
</div>
<p>ç®—æ³•æµç¨‹å¦‚ä¸‹å›¾ï¼Œåˆ†ä¸ºä¸¤é˜¶æ®µçš„è°ƒæ•´ã€‚é¦–å…ˆrefine 2DåŒ¹é…ç‚¹ï¼Œç„¶ååˆ©ç”¨SfMé‡å»ºårefine 3Dç‚¹å’Œpose</p>
<div class="align-center figure align-default">
<img alt="../../../../../_images/143.jpg" src="../../../../../_images/143.jpg" />
</div>
<div class="section" id="keypoint-adjustment">
<h3><span class="section-number">36.2.1. </span>Keypoint adjustment<a class="headerlink" href="#keypoint-adjustment" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>è€ƒè™‘äº†ä¸¤ä¸ªç¨€ç–è§‚æµ‹çš„å›¾åƒå¼ºåº¦ä¹‹é—´çš„è¯¯å·®: <span class="math notranslate nohighlight">\(r =  I_i[p_u] - I_j[p_v]\)</span></p>
<p>ä¸€æ—¦æ£€æµ‹åˆ°ã€æè¿°å’ŒåŒ¹é…äº†å±€éƒ¨ç‰¹å¾ï¼Œå°±åœ¨å‡ ä½•éªŒè¯åˆæ­¥åŒ¹é…ä¹‹å‰refine keypointsä½ç½®ã€‚</p>
<p>æœ¬æ–‡é‡‡ç”¨äº† CNN feature çš„æ–¹å¼è¡¨ç¤ºä¸€å¼ å›¾åƒã€‚å¯¹äºå›¾åƒ <span class="math notranslate nohighlight">\(\{I_i\}\)</span> ä½¿ç”¨S2DNetæå– <span class="math notranslate nohighlight">\(D\)</span> ç»´çš„ç‰¹å¾å›¾ <span class="math notranslate nohighlight">\(F_i \in R^{W \times H \times D}\)</span></p>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>ç‰¹å¾å›¾åœ¨é€šé“ä¸Šåšäº† <span class="math notranslate nohighlight">\(L_2\)</span> å½’ä¸€åŒ–ä»¥æé«˜æ³›åŒ–æ€§ï¼Œç‰¹å¾å›¾çš„é•¿å®½ä¸åŸå›¾ç›¸åŒã€‚</p>
</div>
<p><strong>Track separation:</strong></p>
<blockquote>
<div><p>åŒ¹é…å›¾ä¸­çš„è¿æ¥çš„ç»„ä»¶å®šä¹‰äº†ä¸´æ—¶trackâ€“å¯èƒ½è§‚å¯Ÿåˆ°ç›¸åŒ3Dç‚¹ä½†å…¶è§‚å¯Ÿç»“æœå°šæœªç»è¿‡å‡ ä½•éªŒè¯çš„å…³é”®ç‚¹é›†ã€‚ä¸€ä¸ª3Dç‚¹åœ¨ä¸€ä¸ªå›¾åƒä¸Šåªèƒ½æœ‰ä¸€ä¸ªæŠ•å½±ç‚¹ï¼Œä½¿ç”¨è·Ÿè¸ªåˆ†ç¦»æ–¹æ³•å¯ä»¥å¿«é€Ÿå»é™¤é”™è¯¯åŒ¹é…ç‚¹ã€‚</p>
</div></blockquote>
<p><strong>Objective:</strong></p>
<blockquote>
<div><p>å¯¹äºæ¯ä¸€ä¸ª trackï¼Œè°ƒæ•´å®ƒåŒ…å«çš„ 2D ç‰¹å¾ç‚¹çš„ä½ç½®ï¼Œæ„å»ºå¦‚ä¸‹ featurematric è¯¯å·®ï¼š</p>
<div class="math notranslate nohighlight">
\[E_{FKA}^j = \sum\limits_{(u,v) \in \mathcal{M}(j)} w_{uv} ||F_{i(u)}[p_u] - F_i(v)[p_v]||_\gamma\]</div>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>åŸºäºä¸€ä¸ªå‡è®¾åŒä¸€å¯¹åŒ¹é…ç‚¹åœ¨å„è‡ªå›¾åƒå¯¹åº”ä½ç½®çš„ç‰¹å¾åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œ <span class="math notranslate nohighlight">\(w_{uv}\)</span> è¡¨ç¤ºè¿™å¯¹åŒ¹é…ç‚¹çš„ç½®ä¿¡åº¦ï¼Œå¯ä»¥ç”±ç‰¹å¾æè¿°å­çš„ä½™å¼¦è·ç¦» <span class="math notranslate nohighlight">\(d_u^T d_v\)</span> è¡¨ç¤ºã€‚</p>
<p>å‡å¦‚ <span class="math notranslate nohighlight">\(u,v\)</span>  å¯¹äºä½ç½®çš„ç‰¹å¾æè¿°å­åˆ†åˆ«ä¸º <span class="math notranslate nohighlight">\(d_u, d_v\)</span> ï¼Œåˆ™ç‰¹å¾ç›¸ä¼¼åº¦ <span class="math notranslate nohighlight">\(w_{uv}\)</span> ä¸º <span class="math notranslate nohighlight">\(d_u^T d_v\)</span></p>
</div>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>è¯¥è¿‡ç¨‹å¯¹äºæ¯ä¸€ä¸ª track æ˜¯ç‹¬ç«‹è¿›è¡Œçš„ï¼Œè®¡ç®—æ•ˆç‡éå¸¸é«˜ã€‚</p>
</div>
</div></blockquote>
<p><strong>Drift:</strong></p>
<blockquote>
<div><p>ä¸ºäº†ä¿è¯ä¾‹å¦‚è§†è§‰å®šä½çš„æ€§èƒ½ï¼Œéœ€è¦ä¿æŒç‰¹å¾ç‚¹å¤æ£€ç‡ä¸å‘ç”Ÿè¾ƒå¤§æ”¹å˜ï¼Œæ­¤æ—¶éœ€è¦é™åˆ¶ç‰¹å¾ä¼˜åŒ–çš„æœ€å¤§å˜åŠ¨è·ç¦»ï¼š</p>
<div class="math notranslate nohighlight">
\[||p_u - p_u^0 || \le K\]</div>
<p>å…¶ä¸­ <span class="math notranslate nohighlight">\(p_u^0\)</span> æ˜¯æœªè°ƒæ•´çš„åŸå§‹ä½ç½®ï¼Œ <span class="math notranslate nohighlight">\(K\)</span> è¡¨ç¤ºç‰¹å¾ç‚¹ä½ç½®è°ƒæ•´çš„æœ€å¤§åƒç´ è·ç¦»ã€‚ï¼ˆæ–‡ç« ä¸­è®¾ç½®ä¸º8ï¼‰</p>
</div></blockquote>
</div>
</div>
<div class="section" id="bundle-adjustment">
<h2><span class="section-number">36.3. </span>Bundle Adjustment<a class="headerlink" href="#bundle-adjustment" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<ol class="arabic simple">
<li><p>æ‰¾åˆ°ä¸€ä¸ªå‘é‡ <span class="math notranslate nohighlight">\(\mu\)</span> ï¼Œè¿™ä¸ªå‘é‡å¯ä»¥æè¿°è·Ÿè¸ªç‚¹ <span class="math notranslate nohighlight">\(j\)</span> åœ¨æ‰€æœ‰å›¾åƒåŒ¹é…ç‚¹çš„ç‰¹å¾ï¼Œä¹Ÿå°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªå‘é‡è·ç¦»è¿™äº›ç‰¹å¾æœ€è¿‘ã€‚</p></li>
</ol>
<div class="math notranslate nohighlight">
\[\mu^j = \mathop{argmin}_{\mu \in R^D} \sum\limits_{f \in \{f_u^j\}} ||f - \mu||_\gamma\]</div>
<ol class="arabic simple" start="2">
<li><p>ä»æ‰€æœ‰è·Ÿè¸ªç‚¹ <span class="math notranslate nohighlight">\(j\)</span> ä¸­æ‰€æœ‰ç›¸å…³çš„æè¿°å‘é‡ä¸­ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€è¿‘çš„å‘é‡ä½œä¸ºæœ€ç»ˆè·Ÿè¸ªç‚¹çš„æè¿°å­ã€‚</p></li>
</ol>
<div class="math notranslate nohighlight">
\[f^j = \mathop{argmin}_{f\in \{f_u^j\}}|| \mu^j - f ||\]</div>
<ol class="arabic simple" start="3">
<li><p>ç©ºé—´ç‚¹ <span class="math notranslate nohighlight">\(j\)</span> åœ¨æ‰€æœ‰å›¾åƒä¸Šçš„ç‰¹å¾æè¿°å­åº”è¯¥éƒ½ä¸ <span class="math notranslate nohighlight">\(f_j\)</span> æ¥è¿‘ã€‚</p></li>
</ol>
<div class="math notranslate nohighlight">
\[E_{FBA} = \sum\limits_j \sum\limits_{(i,u)\in \mathcal{T}(j)} ||F_i [\prod (R_i P_j + t_i, C_i)] - f^j||_\gamma\]</div>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>ç›¸å½“äºæ‰¾åˆ°ç‚¹çš„æè¿°ä¸­è·ç¦»å‡å€¼æœ€è¿‘çš„ç‰¹å¾æè¿°ï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ªç‚¹çš„å…¨å±€ç‰¹å¾ã€‚</p>
</div>
</div>
<div class="section" id="implementation">
<h2><span class="section-number">36.4. </span>Implementation<a class="headerlink" href="#implementation" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<ol class="arabic simple">
<li><p>ceres-solverçš„LMç®—æ³•æ±‚è§£keypointså’ŒBAä¼˜åŒ–é—®é¢˜ã€‚</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p>ç‰¹å¾å›¾å­˜å‚¨ä¸ºä»¥åˆå§‹å…³é”®ç‚¹æ£€æµ‹ä¸ºä¸­å¿ƒï¼Œpatchå¤§å°ä¸º <span class="math notranslate nohighlight">\(16 \times 16\)</span> çš„é›†åˆã€‚</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p>é™åˆ¶ç‚¹çš„åƒç´ ç§»åŠ¨æ­¥æ•°æœ€å¤§ä¸º <span class="math notranslate nohighlight">\(K = 8\)</span></p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p>Cauchy loss  <span class="math notranslate nohighlight">\(\gamma = 0.25\)</span></p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p><span class="math notranslate nohighlight">\(\mu^j = \mathop{argmin}\limits_{\mu \in R^D} \sum\limits_{f \in \{f_u^j\}} ||f - \mu||_\gamma\)</span> çš„ç¨³å¥æ€§å‡å€¼é‡‡ç”¨è¿­ä»£é‡åŠ æƒæœ€å°äºŒä¹˜è®¡ç®—</p></li>
</ol>
<ol class="arabic simple" start="6">
<li><p>é¢„è®¡ç®—ç‰¹å¾è·ç¦»çš„å°å—å¹¶ç›´æ¥æ’å€¼ä¸€ä¸ªè¿‘ä¼¼ä»£ä»· <span class="math notranslate nohighlight">\(\overline{E}_{ij} = ||F_i - f^j||_\gamma [p_{ij}]\)</span> ï¼Œæå¤§åœ°æé«˜äº†BAçš„æ•ˆç‡ã€‚</p></li>
</ol>
</div>
<div class="section" id="experiments">
<h2><span class="section-number">36.5. </span>Experiments<a class="headerlink" href="#experiments" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<ol class="arabic simple">
<li><p>è¯„ä¼°äº†å·²çŸ¥ç›¸æœºå§¿æ€å’Œå†…åœ¨ç‰¹å¾çš„ç²¾ç»†ä¸‰ç»´ç»“æ„çš„å‡†ç¡®æ€§ã€‚</p></li>
</ol>
<dl class="field-list">
<dt class="field-odd">Evaluation</dt>
<dd class="field-odd"><p>ä½¿ç”¨ETH3DåŸºå‡†ï¼Œè¯¥åŸºå‡†ç”±13ä¸ªå®¤å†…å¤–åœºæ™¯ç»„æˆï¼Œæä¾›ç²¾ç¡®åˆ°æ¯«ç±³çš„ç›¸æœºå§¿æ€å’Œæ¿€å…‰æ‰«æä»ªè·å¾—çš„é«˜åº¦ç²¾ç¡®çš„åœ°é¢çœŸå®å¯†åº¦é‡å»ºå›¾åƒã€‚</p>
<p>æŠ¥å‘Šé‡å»ºçš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ï¼Œä»¥%è¡¨ç¤ºä¸‰è§’åŒ–å’Œåœ°é¢çœŸå®å¯†é›†ç‚¹åœ¨å½¼æ­¤ç»™å®šè·ç¦»å†…çš„æ¯”ä¾‹ã€‚</p>
</dd>
<dt class="field-even">Baselines</dt>
<dd class="field-even"><p>siftã€SuperPointã€D2-Netã€R2D2</p>
</dd>
</dl>
<div class="align-center figure align-default">
<img alt="../../../../../_images/228.jpg" src="../../../../../_images/228.jpg" />
</div>
<ol class="arabic simple" start="2">
<li><p>è¯„ä¼°ä¼˜åŒ–å¯¹ä»å•ä¸ªå›¾åƒä¼°è®¡ç›¸æœºä½å§¿ä»»åŠ¡çš„å½±å“ã€‚</p></li>
</ol>
<dl class="field-list">
<dt class="field-odd">Evaluation</dt>
<dd class="field-odd"><p>å¯¹äºæ¯ä¸ªåœºæ™¯ï¼Œéšæœºé€‰æ‹©10å¼ å›¾åƒä½œä¸ºæŸ¥è¯¢ã€‚å¯¹äºå®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªï¼Œå‰©ä½™çš„å›¾åƒï¼Œé™¤äº†ä¸¤ä¸ªæœ€å…·å…±è§†æ€§çš„å›¾åƒï¼Œè¢«ç”¨æ¥ä¸‰è§’åŒ–ä¸€ä¸ªç¨€ç–çš„ä¸‰ç»´éƒ¨åˆ†æ¨¡å‹ã€‚</p>
<p>ç„¶åï¼Œå°†æ¯ä¸ªæŸ¥è¯¢ä¸å…¶å¯¹åº”çš„éƒ¨åˆ†æ¨¡å‹è¿›è¡ŒåŒ¹é…ï¼Œå¾—åˆ°çš„2D-3DåŒ¹é…ç”¨äºä½¿ç”¨LO-RANSAC+PnPå’Œå‡ ä½•çº¦æŸæ¥ä¼°è®¡å…¶ç»å¯¹ä½å§¿ã€‚</p>
</dd>
</dl>
<div class="align-center figure align-default">
<img alt="../../../../../_images/316.jpg" src="../../../../../_images/316.jpg" />
</div>
<ol class="arabic simple" start="3">
<li><p>ç«¯åˆ°ç«¯çš„SfM</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Evaluation</dt>
<dd class="field-odd"><p>2020å¹´å›¾åƒåŒ¹é…æŒ‘æˆ˜çš„æ•°æ®ã€åè®®å’Œä»£ç ï¼ŒåŸºäºå¤§é‡çš„å›¾åƒé›†åˆï¼Œæç»˜äº†ä¸–ç•Œå„åœ°çš„è‘—ååœ°æ ‡ã€‚ä¼ªground truthä½å§¿ç”±colmapè·å¾—ã€‚</p>
</dd>
</dl>
<div class="align-center figure align-default">
<img alt="../../../../../_images/415.jpg" src="../../../../../_images/415.jpg" />
</div>
<div class="align-center figure align-default">
<img alt="../../../../../_images/513.jpg" src="../../../../../_images/513.jpg" />
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../../../p_slam.html" class="btn btn-neutral float-right" title="ğŸŠ SLAM" accesskey="n" rel="next">ä¸‹ä¸€é¡µ <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../DeepSfM/DeepSfM.html" class="btn btn-neutral float-left" title="35. DeepSFM: Structure From Motion Via Deep Bundle Adjustment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> ä¸Šä¸€é¡µ</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; ç‰ˆæƒæ‰€æœ‰ 2021, linzzz.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>