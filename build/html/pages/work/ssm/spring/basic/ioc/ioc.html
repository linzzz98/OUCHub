

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2. IocåŸºç¡€å…¥é—¨ &mdash; OUCHub  æ–‡æ¡£</title>
  

  
  <link rel="stylesheet" href="../../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/twemoji.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../_static/jquery.js"></script>
        <script src="../../../../../../_static/underscore.js"></script>
        <script src="../../../../../../_static/doctools.js"></script>
        <script src="../../../../../../_static/language_data.js"></script>
        <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"></script>
        <script src="../../../../../../_static/twemoji.js"></script>
        <script src="../../../../../../_static/translations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="ç´¢å¼•" href="../../../../../../genindex.html" />
    <link rel="search" title="æœç´¢" href="../../../../../../search.html" />
    <link rel="next" title="3. DIåŸºç¡€å…¥é—¨" href="../di/di.html" />
    <link rel="prev" title="1. Springç³»ç»Ÿæ¶æ„å’Œæ ¸å¿ƒæ¦‚å¿µ" href="../../frame/frame.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
          

          
            <a href="../../../../../../index.html" class="icon icon-home"> OUCHub
          

          
            
            <img src="../../../../../../_static/logo_1.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="åœ¨æ–‡æ¡£ä¸­æœç´¢" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">åŸºç¡€çŸ¥è¯†</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../knowledge/k_MH.html">ğŸ’Š Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../knowledge/k_CV.html">ğŸ¤ Computer Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../knowledge/k_ML.html">ğŸ Machine Learning</a></li>
</ul>
<p class="caption"><span class="caption-text">è®ºæ–‡å­¦ä¹ </span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../paper/p_sfm.html">ğŸŠ Structure from Motion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../paper/p_slam.html">ğŸŠ SLAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../paper/p_pointcloud.html">ğŸ‹ Point Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../paper/p_BA.html">ğŸŠ Bundle Adjustment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../paper/p_others.html">ğŸ’ Others</a></li>
</ul>
<p class="caption"><span class="caption-text">æºç è§£æ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../code/colmap.html">ğŸ‘ Colmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../code/theiasfm.html">ğŸ‘ TheiaSfM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../code/ba.html">ğŸ‘ Bundle Adjustment</a></li>
</ul>
<p class="caption"><span class="caption-text">ç®—æ³•å­¦ä¹ </span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../algorithm/algorithm.html">ğŸ‘ Algorithm</a></li>
</ul>
<p class="caption"><span class="caption-text">å·¥ä½œçŸ¥è¯†</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../../work.html">ğŸ‘ Work</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../../mysql/mysql.html">ğŸ‘ Algorithm</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../ssm.html">SSM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../frame/frame.html">1. Springç³»ç»Ÿæ¶æ„å’Œæ ¸å¿ƒæ¦‚å¿µ</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2. IocåŸºç¡€å…¥é—¨</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">IOCå…¥é—¨æ¡ˆä¾‹</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">IOCç›¸å…³å†…å®¹</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#bean">beanåŸºç¡€é…ç½®</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#bean-idclass">beanåŸºç¡€é…ç½®(idä¸class)</a></li>
<li class="toctree-l6"><a class="reference internal" href="#beanname">beançš„nameå±æ€§</a></li>
<li class="toctree-l6"><a class="reference internal" href="#beanscope">beanä½œç”¨èŒƒå›´scopeé…ç½®</a></li>
<li class="toctree-l6"><a class="reference internal" href="#id3">beanåŸºç¡€é…ç½®å°ç»“</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#id4">beanå®ä¾‹åŒ–</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#id5">æ„é€ æ–¹æ³•å®ä¾‹åŒ–</a></li>
<li class="toctree-l6"><a class="reference internal" href="#id6">é™æ€å·¥å‚å®ä¾‹åŒ–</a></li>
<li class="toctree-l6"><a class="reference internal" href="#factorybean">å®ä¾‹å·¥å‚ä¸FactoryBean</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#id7">beançš„ç”Ÿå‘½å‘¨æœŸ</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#id8">ç”Ÿå‘½å‘¨æœŸè®¾ç½®</a></li>
<li class="toctree-l6"><a class="reference internal" href="#id9">beanç”Ÿå‘½å‘¨æœŸå°ç»“</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../di/di.html">3. DIåŸºç¡€å…¥é—¨</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">æ‚ä¸ƒæ‚å…«</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../others/o_others.html">ğŸº Others</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">OUCHub</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../work.html">ğŸ‘ Work</a> &raquo;</li>
        
          <li><a href="../../../ssm.html">SSM</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>IocåŸºç¡€å…¥é—¨</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../../_sources/pages/work/ssm/spring/basic/ioc/ioc.rst.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ioc">
<h1><span class="section-number">2. </span>IocåŸºç¡€å…¥é—¨<a class="headerlink" href="#ioc" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<div class="section" id="id1">
<h2>IOCå…¥é—¨æ¡ˆä¾‹<a class="headerlink" href="#id1" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<div class="admonition important">
<p class="admonition-title">é‡è¦</p>
<p><strong>æ€è·¯åˆ†æ</strong></p>
<p>(1)Springæ˜¯ä½¿ç”¨å®¹å™¨æ¥ç®¡ç†beanå¯¹è±¡çš„ï¼Œç®¡ä»€ä¹ˆ?</p>
<blockquote>
<div><ul class="simple">
<li><p>ä¸»è¦ç®¡ç†é¡¹ç›®ä¸­æ‰€ä½¿ç”¨åˆ°çš„ç±»å¯¹è±¡ï¼Œæ¯”å¦‚(Serviceå’ŒDao)</p></li>
</ul>
</div></blockquote>
<p>(2)å¦‚ä½•å°†è¢«ç®¡ç†çš„å¯¹è±¡å‘ŠçŸ¥IOCå®¹å™¨?</p>
<blockquote>
<div><ul class="simple">
<li><p>ä½¿ç”¨é…ç½®æ–‡ä»¶</p></li>
</ul>
</div></blockquote>
<p>(3)è¢«ç®¡ç†çš„å¯¹è±¡äº¤ç»™IOCå®¹å™¨ï¼Œè¦æƒ³ä»å®¹å™¨ä¸­è·å–å¯¹è±¡ï¼Œå°±å…ˆå¾—æ€è€ƒå¦‚ä½•è·å–åˆ°IOCå®¹å™¨?</p>
<blockquote>
<div><ul class="simple">
<li><p>Springæ¡†æ¶æä¾›ç›¸åº”çš„æ¥å£</p></li>
</ul>
</div></blockquote>
<p>(4)IOCå®¹å™¨å¾—åˆ°åï¼Œå¦‚ä½•ä»å®¹å™¨ä¸­è·å–bean?</p>
<blockquote>
<div><ul class="simple">
<li><p>è°ƒç”¨Springæ¡†æ¶æä¾›å¯¹åº”æ¥å£ä¸­çš„æ–¹æ³•</p></li>
</ul>
</div></blockquote>
<p>(5)ä½¿ç”¨Springå¯¼å…¥å“ªäº›åæ ‡?</p>
<blockquote>
<div><ul class="simple">
<li><p>ç”¨åˆ«äººçš„ä¸œè¥¿ï¼Œå°±éœ€è¦åœ¨pom.xmlæ·»åŠ å¯¹åº”çš„ä¾èµ–</p></li>
</ul>
</div></blockquote>
</div>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>éœ€æ±‚åˆ†æ:å°†BookServiceImplå’ŒBookDaoImpläº¤ç»™Springç®¡ç†ï¼Œå¹¶ä»å®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡è¿›è¡Œæ–¹æ³•è°ƒç”¨ã€‚</p>
<p>1.åˆ›å»ºMavençš„javaé¡¹ç›®</p>
<p>2.pom.xmlæ·»åŠ Springçš„ä¾èµ–jaråŒ…</p>
<blockquote>
<div><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>spring-context<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>5.2.10.RELEASE<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>junit<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>junit<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>4.12<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>3.åˆ›å»ºBookService,BookServiceImplï¼ŒBookDaoå’ŒBookDaoImplå››ä¸ªç±»</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">BookDao</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookDaoImpl</span> <span class="kd">implements</span> <span class="n">BookDao</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;book dao save ...&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">BookService</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookServiceImpl</span> <span class="kd">implements</span> <span class="n">BookService</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="n">BookDao</span> <span class="n">bookDao</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BookDaoImpl</span><span class="p">();</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;book service save ...&quot;</span><span class="p">);</span>
        <span class="n">bookDao</span><span class="p">.</span><span class="na">save</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>4.resourcesä¸‹æ·»åŠ springé…ç½®æ–‡ä»¶(applicationContext.xml)ï¼Œå¹¶å®Œæˆbeançš„é…ç½®</p>
<blockquote>
<div><div class="align-center figure align-default">
<img alt="../../../../../../_images/158.jpg" src="../../../../../../_images/158.jpg" />
</div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="c">&lt;!--beanæ ‡ç­¾æ ‡ç¤ºé…ç½®bean</span>
<span class="c">      idå±æ€§æ ‡ç¤ºç»™beanèµ·åå­—</span>
<span class="c">      classå±æ€§è¡¨ç¤ºç»™beanå®šä¹‰ç±»å‹</span>
<span class="c">   --&gt;</span>
   <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;bookDao&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.dao.impl.BookDaoImpl&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;bookService&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.service.impl.BookServiceImpl&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/beans&gt;</span>
</pre></div>
</div>
<p><strong>æ³¨æ„äº‹é¡¹ï¼šbeanå®šä¹‰æ—¶idå±æ€§åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­(é…ç½®æ–‡ä»¶)ä¸èƒ½é‡å¤</strong></p>
</div></blockquote>
<p>5.ä½¿ç”¨Springæä¾›çš„æ¥å£å®ŒæˆIOCå®¹å™¨çš„åˆ›å»º</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;applicationContext.xml&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>6.ä»å®¹å™¨ä¸­è·å–å¯¹è±¡è¿›è¡Œæ–¹æ³•è°ƒç”¨</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//è·å–IOCå®¹å™¨</span>
      <span class="n">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;applicationContext.xml&quot;</span><span class="p">);</span>
<span class="c1">//        BookDao bookDao = (BookDao) ctx.getBean(&quot;bookDao&quot;);</span>
<span class="c1">//        bookDao.save();</span>
        <span class="n">BookService</span> <span class="n">bookService</span> <span class="o">=</span> <span class="p">(</span><span class="n">BookService</span><span class="p">)</span> <span class="n">ctx</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;bookService&quot;</span><span class="p">);</span>
        <span class="n">bookService</span><span class="p">.</span><span class="na">save</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="id2">
<h2>IOCç›¸å…³å†…å®¹<a class="headerlink" href="#id2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<div class="section" id="bean">
<h3>beanåŸºç¡€é…ç½®<a class="headerlink" href="#bean" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<div class="section" id="bean-idclass">
<h4>beanåŸºç¡€é…ç½®(idä¸class)<a class="headerlink" href="#bean-idclass" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;&quot;</span> <span class="na">class=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="align-center figure align-default">
<img alt="../../../../../../_images/236.jpg" src="../../../../../../_images/236.jpg" />
</div>
<div class="admonition attention">
<p class="admonition-title">æ³¨æ„</p>
<p>classå±æ€§ä¸èƒ½å†™æ¥å£å¦‚ <strong>BookDao</strong> çš„ç±»å…¨åï¼Œå› ä¸ºæ¥å£æ²¡æ³•åˆ›å»ºå¯¹è±¡</p>
</div>
</div>
<div class="section" id="beanname">
<h4>beançš„nameå±æ€§<a class="headerlink" href="#beanname" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<div class="align-center figure align-default">
<img alt="../../../../../../_images/324.jpg" src="../../../../../../_images/324.jpg" />
</div>
<ol class="arabic">
<li><p>é…ç½®åˆ«å</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="c">&lt;!--name:ä¸ºbeanæŒ‡å®šåˆ«åï¼Œåˆ«åå¯ä»¥æœ‰å¤šä¸ªï¼Œä½¿ç”¨é€—å·ï¼Œåˆ†å·ï¼Œç©ºæ ¼è¿›è¡Œåˆ†éš”--&gt;</span>
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;bookService&quot;</span> <span class="na">name=</span><span class="s">&quot;service service4 bookEbi&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.service.impl.BookServiceImpl&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;bookDao&quot;</span> <span class="na">ref=</span><span class="s">&quot;bookDao&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>

<span class="c">&lt;!--scopeï¼šä¸ºbeanè®¾ç½®ä½œç”¨èŒƒå›´ï¼Œå¯é€‰å€¼ä¸ºå•ä¾‹singlotonï¼Œéå•ä¾‹prototype--&gt;</span>
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;bookDao&quot;</span> <span class="na">name=</span><span class="s">&quot;dao&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.dao.impl.BookDaoImpl&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
<li><p>æ ¹æ®åç§°å®¹å™¨ä¸­è·å–beanå¯¹è±¡</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppForName</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;applicationContext.xml&quot;</span><span class="p">);</span>
        <span class="c1">//æ­¤å¤„æ ¹æ®beanæ ‡ç­¾çš„idå±æ€§å’Œnameå±æ€§çš„ä»»æ„ä¸€ä¸ªå€¼æ¥è·å–beanå¯¹è±¡</span>
        <span class="n">BookService</span> <span class="n">bookService</span> <span class="o">=</span> <span class="p">(</span><span class="n">BookService</span><span class="p">)</span> <span class="n">ctx</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;service4&quot;</span><span class="p">);</span>
        <span class="n">bookService</span><span class="p">.</span><span class="na">save</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition attention">
<p class="admonition-title">æ³¨æ„</p>
<p>beanä¾èµ–æ³¨å…¥çš„refå±æ€§æŒ‡å®šbean,å¿…é¡»åœ¨å®¹å™¨ä¸­å­˜åœ¨,ä¸å­˜åœ¨åˆ™ä¼šæŠ¥é”™ <strong>NoSuchBeanDefinitionException</strong></p>
</div>
</div>
<div class="section" id="beanscope">
<h4>beanä½œç”¨èŒƒå›´scopeé…ç½®<a class="headerlink" href="#beanscope" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<div class="align-center figure align-default">
<img alt="../../../../../../_images/421.jpg" src="../../../../../../_images/421.jpg" />
</div>
<ol class="arabic">
<li><p><strong>å•ä¾‹/éå•ä¾‹</strong></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringåˆ›å»ºçš„beanå¯¹è±¡éƒ½æ˜¯å•ä¾‹çš„</p>
<p>é€šè¿‡é…ç½®scopeå±æ€§æ¥å®ç°beançš„éå•ä¾‹åˆ›å»º</p>
<ul class="simple">
<li><p>åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹ <code class="docutils literal notranslate"><span class="pre">&lt;bean&gt;</span></code> çš„scopeå±æ€§</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;bookDao&quot;</span> <span class="na">name=</span><span class="s">&quot;dao&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.dao.impl.BookDaoImpl&quot;</span> <span class="na">scope=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>å°†scopeè®¾ç½®ä¸º <code class="docutils literal notranslate"><span class="pre">prototype</span></code></p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;bookDao&quot;</span> <span class="na">name=</span><span class="s">&quot;dao&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.dao.impl.BookDaoImpl&quot;</span> <span class="na">scope=</span><span class="s">&quot;prototype&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>ç»“è®ºï¼Œä½¿ç”¨beançš„ <code class="docutils literal notranslate"><span class="pre">scope</span></code> å±æ€§å¯ä»¥æ§åˆ¶beançš„åˆ›å»ºæ˜¯å¦ä¸ºå•ä¾‹ï¼š</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">singleton</span></code> é»˜è®¤ä¸ºå•ä¾‹</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prototype</span></code> ä¸ºéå•ä¾‹</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<ol class="arabic">
<li><p>ä¸ºä»€ä¹ˆbeané»˜è®¤ä¸ºå•ä¾‹?</p>
<p>beanä¸ºå•ä¾‹æ˜¯åœ¨Springçš„IOCå®¹å™¨ä¸­åªä¼šæœ‰è¯¥ç±»çš„ä¸€ä¸ªå¯¹è±¡ï¼Œé¿å…äº†å¯¹è±¡çš„é¢‘ç¹åˆ›å»ºä¸é”€æ¯ï¼Œè¾¾åˆ°äº†beanå¯¹è±¡çš„å¤ç”¨ï¼Œæ€§èƒ½é«˜</p>
</li>
<li><p>beanåœ¨å®¹å™¨ä¸­æ˜¯å•ä¾‹çš„ï¼Œä¼šä¸ä¼šäº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜?</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>å¦‚æœå¯¹è±¡æ˜¯æœ‰çŠ¶æ€å¯¹è±¡ï¼Œå³è¯¥å¯¹è±¡æœ‰æˆå‘˜å˜é‡å¯ä»¥ç”¨æ¥å­˜å‚¨æ•°æ®çš„ï¼Œå› ä¸ºæ‰€æœ‰è¯·æ±‚çº¿ç¨‹å…±ç”¨ä¸€ä¸ªbeanå¯¹è±¡ï¼Œæ‰€ä»¥ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p></li>
<li><p>å¦‚æœå¯¹è±¡æ˜¯æ— çŠ¶æ€å¯¹è±¡ï¼Œå³è¯¥å¯¹è±¡æ²¡æœ‰æˆå‘˜å˜é‡æ²¡æœ‰è¿›è¡Œæ•°æ®å­˜å‚¨çš„ï¼Œå› æ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡åœ¨æ–¹æ³•è°ƒç”¨å®Œæˆåä¼šè¢«é”€æ¯ï¼Œæ‰€ä»¥ä¸ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>å“ªäº›beanå¯¹è±¡é€‚åˆäº¤ç»™å®¹å™¨è¿›è¡Œç®¡ç†?</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>è¡¨ç°å±‚å¯¹è±¡</p></li>
<li><p>ä¸šåŠ¡å±‚å¯¹è±¡</p></li>
<li><p>æ•°æ®å±‚å¯¹è±¡</p></li>
<li><p>å·¥å…·å¯¹è±¡</p></li>
</ul>
</div></blockquote>
<ol class="arabic" start="4">
<li><p>å“ªäº›beanå¯¹è±¡ä¸é€‚åˆäº¤ç»™å®¹å™¨è¿›è¡Œç®¡ç†?</p>
<p>å°è£…å®ä¾‹çš„åŸŸå¯¹è±¡ï¼Œå› ä¸ºä¼šå¼•å‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ‰€ä»¥ä¸é€‚åˆã€‚</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="section" id="id3">
<h4>beanåŸºç¡€é…ç½®å°ç»“<a class="headerlink" href="#id3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span>
   <span class="na">id=</span><span class="s">&quot;beançš„å”¯ä¸€æ ‡è¯†&quot;</span>
   <span class="na">class=</span><span class="s">&quot;beançš„ç±»å…¨å&quot;</span>
   <span class="na">scope=</span><span class="s">&quot;beançš„ä½œç”¨èŒƒå›´ï¼Œæœ‰singleton(é»˜è®¤)å’Œprototype&quot;</span>
   <span class="na">name=</span><span class="s">&quot;beanèµ·çš„åˆ«å&quot;</span>
<span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id4">
<h3>beanå®ä¾‹åŒ–<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>beanæœ¬è´¨ä¸Šå°±æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡åœ¨newçš„æ—¶å€™ä¼šä½¿ç”¨æ„é€ æ–¹æ³•å®Œæˆï¼Œåˆ›å»ºbeanä¹Ÿæ˜¯ä½¿ç”¨æ„é€ æ–¹æ³•å®Œæˆçš„ã€‚</p>
<div class="section" id="id5">
<h4>æ„é€ æ–¹æ³•å®ä¾‹åŒ–<a class="headerlink" href="#id5" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<ol class="arabic">
<li><p>å‡†å¤‡éœ€è¦è¢«åˆ›å»ºçš„ç±»</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">BookDao</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookDaoImpl</span> <span class="kd">implements</span> <span class="n">BookDao</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;book dao save ...&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>å°†ç±»é…ç½®åˆ°Springå®¹å™¨</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;bookDao&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.dao.impl.BookDaoImpl&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
<li><p>ç¼–å†™è¿è¡Œç¨‹åº</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppForInstanceBook</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span>
            <span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;applicationContext.xml&quot;</span><span class="p">);</span>
        <span class="n">BookDao</span> <span class="n">bookDao</span> <span class="o">=</span> <span class="p">(</span><span class="n">BookDao</span><span class="p">)</span> <span class="n">ctx</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;bookDao&quot;</span><span class="p">);</span>
        <span class="n">bookDao</span><span class="p">.</span><span class="na">save</span><span class="p">();</span>

    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>ç±»ä¸­æä¾›æ— å‚æ„é€ å‡½æ•°æµ‹è¯•</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookDaoImpl</span> <span class="kd">implements</span> <span class="n">BookDao</span> <span class="p">{</span>

   <span class="c1">// æ³¨æ„ï¼Œæ­¤å¤„å†™çš„æ˜¯private, beanä»èƒ½æ­£å¸¸åˆå§‹åŒ–</span>
    <span class="kd">private</span> <span class="nf">BookDaoImpl</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;book dao constructor is running ....&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;book dao save ...&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition attention">
<p class="admonition-title">æ³¨æ„</p>
<p>Springåº•å±‚ä½¿ç”¨çš„æ˜¯ç±»çš„æ— å‚æ„é€ æ–¹æ³•,ä½¿ç”¨å¸¦å‚æ•°çš„æ„é€ å™¨ä¼šæŠ¥é”™!</p>
</div>
</div>
<div class="section" id="id6">
<h4>é™æ€å·¥å‚å®ä¾‹åŒ–<a class="headerlink" href="#id6" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<p><strong>è¿™ç§æ–¹å¼ä¸€èˆ¬æ˜¯ç”¨æ¥å…¼å®¹æ—©æœŸçš„ä¸€äº›è€ç³»ç»Ÿï¼Œæ‰€ä»¥äº†è§£ä¸ºä¸»</strong></p>
<ul>
<li><p>å·¥å‚åˆ›å»ºå¯¹è±¡</p>
<blockquote>
<div><ol class="arabic">
<li><p>å‡†å¤‡OrderDaoå’ŒOrderDaoImplç±»</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">OrderDao</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderDaoImpl</span> <span class="kd">implements</span> <span class="n">OrderDao</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;order dao save ...&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªå·¥å‚ç±»OrderDaoFactoryå¹¶æä¾›ä¸€ä¸ª <strong>é™æ€æ–¹æ³•</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">//é™æ€å·¥å‚åˆ›å»ºå¯¹è±¡</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderDaoFactory</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">OrderDao</span> <span class="nf">getOrderDao</span><span class="p">(){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">OrderDaoImpl</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>ç¼–å†™è¿è¡Œç±»ï¼Œåœ¨ç±»ä¸­é€šè¿‡å·¥å‚è·å–å¯¹è±¡</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppForInstanceOrder</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//é€šè¿‡é™æ€å·¥å‚åˆ›å»ºå¯¹è±¡</span>
        <span class="n">OrderDao</span> <span class="n">orderDao</span> <span class="o">=</span> <span class="n">OrderDaoFactory</span><span class="p">.</span><span class="na">getOrderDao</span><span class="p">();</span>
        <span class="n">orderDao</span><span class="p">.</span><span class="na">save</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</li>
<li><p>é™æ€å·¥å‚å®ä¾‹åŒ–</p>
<blockquote>
<div><ol class="arabic">
<li><p>åœ¨springçš„é…ç½®æ–‡ä»¶application.propertiesä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;orderDao&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.factory.OrderDaoFactory&quot;</span> <span class="na">factory-method=</span><span class="s">&quot;getOrderDao&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>factory-mehod:å…·ä½“å·¥å‚ç±»ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•å</p>
<div class="align-center figure align-default">
<img alt="../../../../../../_images/518.jpg" src="../../../../../../_images/518.jpg" />
</div>
</li>
<li><p>åœ¨è¿è¡Œç±»ä½¿ç”¨ä»IOCå®¹å™¨ä¸­è·å–beançš„æ–¹æ³•è¿›è¡Œè¿è¡Œæµ‹è¯•</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppForInstanceOrder</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;applicationContext.xml&quot;</span><span class="p">);</span>

        <span class="n">OrderDao</span> <span class="n">orderDao</span> <span class="o">=</span> <span class="p">(</span><span class="n">OrderDao</span><span class="p">)</span> <span class="n">ctx</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;orderDao&quot;</span><span class="p">);</span>

        <span class="n">orderDao</span><span class="p">.</span><span class="na">save</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</li>
</ul>
<div class="admonition important">
<p class="admonition-title">é‡è¦</p>
<p>åœ¨å·¥å‚çš„é™æ€æ–¹æ³•ä¸­ï¼Œé™¤äº†newå¯¹è±¡è¿˜å¯ä»¥åšå…¶ä»–çš„ä¸€äº›ä¸šåŠ¡æ“ä½œï¼Œè€Œé€šè¿‡newå¯¹è±¡çš„æ–¹å¼å°±æ— æ³•æ·»åŠ å…¶ä»–çš„ä¸šåŠ¡å†…å®¹ã€‚</p>
</div>
</div>
<div class="section" id="factorybean">
<h4>å®ä¾‹å·¥å‚ä¸FactoryBean<a class="headerlink" href="#factorybean" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<ul>
<li><p>ç¯å¢ƒå‡†å¤‡</p>
<blockquote>
<div><ol class="arabic">
<li><p>å‡†å¤‡ä¸€ä¸ªUserDaoå’ŒUserDaoImplç±»</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserDao</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserDaoImpl</span> <span class="kd">implements</span> <span class="n">UserDao</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;user dao save ...&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªå·¥å‚ç±»OrderDaoFactoryå¹¶æä¾›ä¸€ä¸ªæ™®é€šæ–¹æ³•ï¼Œæ³¨æ„æ­¤å¤„å’Œé™æ€å·¥å‚çš„å·¥å‚ç±»ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯æ–¹æ³• <strong>ä¸æ˜¯é™æ€æ–¹æ³•</strong></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserDaoFactory</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="n">UserDao</span> <span class="nf">getUserDao</span><span class="p">(){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">UserDaoImpl</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>ç¼–å†™è¿è¡Œç±»ï¼Œåœ¨ç±»ä¸­é€šè¿‡å·¥å‚è·å–å¯¹è±¡</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppForInstanceUser</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//åˆ›å»ºå®ä¾‹å·¥å‚å¯¹è±¡</span>
        <span class="n">UserDaoFactory</span> <span class="n">userDaoFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserDaoFactory</span><span class="p">();</span>
        <span class="c1">//é€šè¿‡å®ä¾‹å·¥å‚å¯¹è±¡åˆ›å»ºå¯¹è±¡</span>
        <span class="n">UserDao</span> <span class="n">userDao</span> <span class="o">=</span> <span class="n">userDaoFactory</span><span class="p">.</span><span class="na">getUserDao</span><span class="p">();</span>
        <span class="n">userDao</span><span class="p">.</span><span class="na">save</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</li>
<li><p>å®ä¾‹å·¥å‚å®ä¾‹åŒ–</p>
<blockquote>
<div><ol class="arabic">
<li><p>åœ¨springçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;userFactory&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.factory.UserDaoFactory&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;userDao&quot;</span> <span class="na">factory-method=</span><span class="s">&quot;getUserDao&quot;</span> <span class="na">factory-bean=</span><span class="s">&quot;userFactory&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
<li><p>åœ¨è¿è¡Œç±»ä½¿ç”¨ä»IOCå®¹å™¨ä¸­è·å–beançš„æ–¹æ³•è¿›è¡Œè¿è¡Œæµ‹è¯•</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>public class AppForInstanceUser {
    public static void main(String[] args) {
        ApplicationContext ctx = new
            ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);
        UserDao userDao = (UserDao) ctx.getBean(&quot;userDao&quot;);
        userDao.save();
    }
}
</pre></div>
</div>
</li>
</ol>
<div class="admonition important">
<p class="admonition-title">é‡è¦</p>
<p>å®ä¾‹åŒ–å·¥å‚è¿è¡Œçš„é¡ºåºæ˜¯:</p>
<ul class="simple">
<li><p>åˆ›å»ºå®ä¾‹åŒ–å·¥å‚å¯¹è±¡,å¯¹åº”çš„æ˜¯ç¬¬ä¸€è¡Œé…ç½®</p></li>
<li><p>è°ƒç”¨å¯¹è±¡ä¸­çš„æ–¹æ³•æ¥åˆ›å»ºbeanï¼Œå¯¹åº”çš„æ˜¯ç¬¬äºŒè¡Œé…ç½®</p></li>
</ul>
<div class="align-center figure align-default">
<img alt="../../../../../../_images/613.jpg" src="../../../../../../_images/613.jpg" />
</div>
</div>
</div></blockquote>
</li>
<li><p>FactoryBean</p>
<blockquote>
<div><p>ä¸ºäº†ç®€åŒ–å®ä¾‹å·¥å‚å®ä¾‹åŒ–çš„é…ç½®æ–¹å¼ï¼ŒSpringæä¾›äº†ä¸€ç§å« <code class="docutils literal notranslate"><span class="pre">FactoryBean</span></code> çš„æ–¹å¼æ¥ç®€åŒ–å¼€å‘ã€‚</p>
<ol class="arabic">
<li><p>åˆ›å»ºä¸€ä¸ªUserDaoFactoryBeançš„ç±»ï¼Œå®ç°FactoryBeanæ¥å£ï¼Œé‡å†™æ¥å£çš„æ–¹æ³•</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserDaoFactoryBean</span> <span class="kd">implements</span> <span class="n">FactoryBean</span><span class="o">&lt;</span><span class="n">UserDao</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="c1">//ä»£æ›¿åŸå§‹å®ä¾‹å·¥å‚ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">UserDao</span> <span class="nf">getObject</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">UserDaoImpl</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="c1">//è¿”å›æ‰€åˆ›å»ºç±»çš„Classå¯¹è±¡</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">getObjectType</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">UserDao</span><span class="p">.</span><span class="na">class</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;userDao&quot;</span> <span class="na">class=</span><span class="s">&quot;com.linzzz.factory.UserDaoFactoryBean&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
<li><p>è¿è¡Œç±»ä¸ç”¨åšä»»ä½•ä¿®æ”¹ï¼Œç›´æ¥è¿è¡Œ</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>æŸ¥çœ‹æºç ä¼šå‘ç°ï¼ŒFactoryBeanæ¥å£å…¶å®ä¼šæœ‰ä¸‰ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">T</span> <span class="nf">getObject</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">Exception</span><span class="p">;</span>

<span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">getObjectType</span><span class="p">();</span>

<span class="k">default</span> <span class="kt">boolean</span> <span class="nf">isSingleton</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="js function">
<dt id="T-getObject">
<span id="T getObject"></span><code class="sig-name descname">T getObject</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#T-getObject" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¢«é‡å†™åï¼Œåœ¨æ–¹æ³•ä¸­è¿›è¡Œå¯¹è±¡çš„åˆ›å»ºå¹¶è¿”å›</p>
</dd></dl>

<dl class="js function">
<dt id="Class-getObjectType">
<span id="Class<?> getObjectType"></span><code class="sig-name descname">Class&lt;?&gt; getObjectType</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Class-getObjectType" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>è¢«é‡å†™åï¼Œä¸»è¦è¿”å›çš„æ˜¯è¢«åˆ›å»ºç±»çš„Classå¯¹è±¡</p>
</dd></dl>

<dl class="js function">
<dt id="default-boolean-isSingleton">
<span id="default boolean isSingleton"></span><code class="sig-name descname">default boolean isSingleton</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#default-boolean-isSingleton" title="æ°¸ä¹…é“¾æ¥è‡³ç›®æ ‡">Â¶</a></dt>
<dd><p>æ²¡æœ‰è¢«é‡å†™ï¼Œå› ä¸ºå®ƒå·²ç»ç»™äº†é»˜è®¤å€¼ï¼Œä»æ–¹æ³•åä¸­å¯ä»¥çœ‹å‡ºå…¶ä½œç”¨æ˜¯è®¾ç½®å¯¹è±¡æ˜¯å¦ä¸ºå•ä¾‹ï¼Œé»˜è®¤true</p>
</dd></dl>

<p>å¦‚æœæƒ³æ”¹æˆéå•ä¾‹ï¼Œåªéœ€è¦å°†isSingleton()æ–¹æ³•è¿›è¡Œé‡å†™ï¼Œä¿®æ”¹è¿”å›ä¸ºfalse</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isSingleton</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="id7">
<h3>beançš„ç”Ÿå‘½å‘¨æœŸ<a class="headerlink" href="#id7" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<div class="section" id="id8">
<h4>ç”Ÿå‘½å‘¨æœŸè®¾ç½®<a class="headerlink" href="#id8" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<blockquote>
<div><ul class="simple">
<li><p>beanåˆ›å»ºä¹‹åï¼Œæƒ³è¦æ·»åŠ å†…å®¹ï¼Œæ¯”å¦‚ç”¨æ¥åˆå§‹åŒ–éœ€è¦ç”¨åˆ°èµ„æº</p></li>
<li><p>beané”€æ¯ä¹‹å‰ï¼Œæƒ³è¦æ·»åŠ å†…å®¹ï¼Œæ¯”å¦‚ç”¨æ¥é‡Šæ”¾ç”¨åˆ°çš„èµ„æº</p></li>
</ul>
<ol class="arabic">
<li><p>æ·»åŠ åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookDaoImpl</span> <span class="kd">implements</span> <span class="n">BookDao</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;book dao save ...&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">//è¡¨ç¤ºbeanåˆå§‹åŒ–å¯¹åº”çš„æ“ä½œ</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="p">(){</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;init...&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">//è¡¨ç¤ºbeané”€æ¯å‰å¯¹åº”çš„æ“ä½œ</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">destory</span><span class="p">(){</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;destory...&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>é…ç½®ç”Ÿå‘½å‘¨æœŸ</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;bookDao&quot;</span> <span class="na">class=</span><span class="s">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span> <span class="na">init-method=</span><span class="s">&quot;init&quot;</span> <span class="na">destroy-method=</span><span class="s">&quot;destory&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition important">
<p class="admonition-title">é‡è¦</p>
<p>æ­¤æ—¶initæ–¹æ³•æ‰§è¡Œäº†ï¼Œä½†æ˜¯destroyæ–¹æ³•å´æœªæ‰§è¡Œ</p>
<ul class="simple">
<li><p>Springçš„IOCå®¹å™¨æ˜¯è¿è¡Œåœ¨JVMä¸­</p></li>
<li><p>è¿è¡Œmainæ–¹æ³•å,JVMå¯åŠ¨,SpringåŠ è½½é…ç½®æ–‡ä»¶ç”ŸæˆIOCå®¹å™¨,ä»å®¹å™¨è·å–beanå¯¹è±¡ï¼Œç„¶åè°ƒæ–¹æ³•æ‰§è¡Œ</p></li>
<li><p>mainæ–¹æ³•æ‰§è¡Œå®Œåï¼ŒJVMé€€å‡ºï¼Œè¿™ä¸ªæ—¶å€™IOCå®¹å™¨ä¸­çš„beanè¿˜æ²¡æœ‰æ¥å¾—åŠé”€æ¯å°±å·²ç»ç»“æŸäº†</p></li>
<li><p>æ‰€ä»¥æ²¡æœ‰è°ƒç”¨å¯¹åº”çš„destroyæ–¹æ³•</p></li>
</ul>
</div>
<ol class="arabic" start="3">
<li><p>å…³é—­å®¹å™¨</p>
<p><strong>closeå…³é—­å®¹å™¨</strong></p>
<blockquote>
<div><ol class="arabic">
<li><p>ApplicationContextä¸­æ²¡æœ‰closeæ–¹æ³•ï¼Œéœ€è¦å°†ApplicationContextæ›´æ¢æˆ <code class="docutils literal notranslate"><span class="pre">ClassPathXmlApplicationContext</span></code></p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ClassPathXmlApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span>
   <span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;applicationContext.xml&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>è°ƒç”¨ctxçš„close()æ–¹æ³•</p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p><strong>æ³¨å†Œé’©å­å…³é—­å®¹å™¨</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>åœ¨å®¹å™¨æœªå…³é—­ä¹‹å‰ï¼Œæå‰è®¾ç½®å¥½å›è°ƒå‡½æ•°ï¼Œè®©JVMåœ¨é€€å‡ºä¹‹å‰å›è°ƒæ­¤å‡½æ•°æ¥å…³é—­å®¹å™¨ï¼Œè°ƒç”¨ctxçš„registerShutdownHook()æ–¹æ³•</p></li>
</ol>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span><span class="p">.</span><span class="na">registerShutdownHook</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">é‡è¦</p>
<p>registerShutdownHookåœ¨ApplicationContextä¸­ä¹Ÿæ²¡æœ‰</p>
</div>
</div></blockquote>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>ç›¸åŒç‚¹:è¿™ä¸¤ç§éƒ½èƒ½ç”¨æ¥å…³é—­å®¹å™¨</p>
<p>ä¸åŒç‚¹:close()æ˜¯åœ¨è°ƒç”¨çš„æ—¶å€™å…³é—­ï¼ŒregisterShutdownHook()æ˜¯åœ¨JVMé€€å‡ºå‰è°ƒç”¨å…³é—­ã€‚</p>
</div>
<p><strong>æ¥å£è®¾ç½® init-method å’Œ destroy-method</strong></p>
<blockquote>
<div><ol class="arabic">
<li><p>ä¿®æ”¹BookServiceImplç±»ï¼Œæ·»åŠ ä¸¤ä¸ªæ¥å£ <code class="docutils literal notranslate"><span class="pre">InitializingBean</span></code>ï¼Œ <code class="docutils literal notranslate"><span class="pre">DisposableBean</span></code> å¹¶å®ç°æ¥å£ä¸­çš„ä¸¤ä¸ªæ–¹æ³• <code class="docutils literal notranslate"><span class="pre">afterPropertiesSet</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">destroy</span></code></p>
<blockquote>
<div><div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookServiceImpl</span> <span class="kd">implements</span> <span class="n">BookService</span><span class="p">,</span> <span class="n">InitializingBean</span><span class="p">,</span> <span class="n">DisposableBean</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="n">BookDao</span> <span class="n">bookDao</span><span class="p">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBookDao</span><span class="p">(</span><span class="n">BookDao</span> <span class="n">bookDao</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">bookDao</span> <span class="o">=</span> <span class="n">bookDao</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;book service save ...&quot;</span><span class="p">);</span>
        <span class="n">bookDao</span><span class="p">.</span><span class="na">save</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">destroy</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;service destroy&quot;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">afterPropertiesSet</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
        <span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;service init&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<ul class="simple">
<li><p>å¯¹äºInitializingBeanæ¥å£ä¸­çš„afterPropertiesSetæ–¹æ³•ï¼Œç¿»è¯‘è¿‡æ¥ä¸º <strong>å±æ€§è®¾ç½®ä¹‹å</strong></p></li>
<li><p>å¯¹äºBookServiceImplæ¥è¯´ï¼ŒbookDaoæ˜¯å®ƒçš„ä¸€ä¸ªå±æ€§</p></li>
<li><p>setBookDaoæ–¹æ³•æ˜¯Springçš„IOCå®¹å™¨ä¸ºå…¶æ³¨å…¥å±æ€§çš„æ–¹æ³•</p></li>
</ul>
<p>æ€è€ƒ:afterPropertiesSetå’ŒsetBookDaoè°å…ˆæ‰§è¡Œ?</p>
<blockquote>
<div><p>setBookDaoæ–¹æ³•å…ˆæ‰§è¡Œ</p>
</div></blockquote>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="id9">
<h4>beanç”Ÿå‘½å‘¨æœŸå°ç»“<a class="headerlink" href="#id9" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h4>
<blockquote>
<div><p><strong>ConfigurableApplicationContextæ˜¯ApplicationContextçš„å­ç±»</strong></p>
<ol class="arabic simple">
<li><p>å…³äºSpringä¸­å¯¹beanç”Ÿå‘½å‘¨æœŸæ§åˆ¶æä¾›äº†ä¸¤ç§æ–¹å¼:</p>
<ul class="simple">
<li><p>åœ¨é…ç½®æ–‡ä»¶ä¸­çš„beanæ ‡ç­¾ä¸­æ·»åŠ  <code class="docutils literal notranslate"><span class="pre">init-method</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">destroy-method</span></code> å±æ€§</p></li>
<li><p>ç±»å®ç° <code class="docutils literal notranslate"><span class="pre">InitializingBean</span></code> ä¸ <code class="docutils literal notranslate"><span class="pre">DisposableBean</span></code> æ¥å£ï¼Œè¿™ç§æ–¹å¼äº†è§£ä¸‹å³å¯ã€‚</p></li>
</ul>
</li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="arabic" start="2">
<li><p>å¯¹äºbeançš„ç”Ÿå‘½å‘¨æœŸæ§åˆ¶åœ¨beançš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æ‰€å¤„çš„ä½ç½®å¦‚ä¸‹:</p>
<ul>
<li><p>åˆå§‹åŒ–å®¹å™¨</p>
<p>1.åˆ›å»ºå¯¹è±¡(å†…å­˜åˆ†é…)</p>
<p>2.æ‰§è¡Œæ„é€ æ–¹æ³•</p>
<p>3.æ‰§è¡Œå±æ€§æ³¨å…¥(setæ“ä½œ)</p>
<p>4.æ‰§è¡Œbeanåˆå§‹åŒ–æ–¹æ³•</p>
</li>
<li><p>ä½¿ç”¨bean
æ‰§è¡Œä¸šåŠ¡æ“ä½œ</p></li>
<li><p>å…³é—­/é”€æ¯å®¹å™¨
æ‰§è¡Œbeané”€æ¯æ–¹æ³•</p></li>
</ul>
</li>
</ol>
</div></blockquote>
<blockquote>
<div><ol class="arabic simple" start="3">
<li><p>å…³é—­å®¹å™¨çš„ä¸¤ç§æ–¹å¼:</p>
<ul class="simple">
<li><p>close()æ–¹æ³•</p></li>
<li><p>registerShutdownHook()æ–¹æ³•</p></li>
</ul>
</li>
</ol>
</div></blockquote>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../di/di.html" class="btn btn-neutral float-right" title="3. DIåŸºç¡€å…¥é—¨" accesskey="n" rel="next">ä¸‹ä¸€é¡µ <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../../frame/frame.html" class="btn btn-neutral float-left" title="1. Springç³»ç»Ÿæ¶æ„å’Œæ ¸å¿ƒæ¦‚å¿µ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> ä¸Šä¸€é¡µ</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; ç‰ˆæƒæ‰€æœ‰ 2021, linzzz.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>