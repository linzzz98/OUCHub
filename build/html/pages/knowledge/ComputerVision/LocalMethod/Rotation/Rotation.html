

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>3. ä¸‰ç»´é‡å»ºä¸­çš„æ—‹è½¬ &mdash; OUCHub  æ–‡æ¡£</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/twemoji.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/language_data.js"></script>
        <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"></script>
        <script src="../../../../../_static/twemoji.js"></script>
        <script src="../../../../../_static/translations.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="ç´¢å¼•" href="../../../../../genindex.html" />
    <link rel="search" title="æœç´¢" href="../../../../../search.html" />
    <link rel="next" title="4. Bundle Adjustment" href="../BundleAdjustment/BundleAdjustment.html" />
    <link rel="prev" title="2. Robust Optimization in 3D Vision" href="../Robust_Optimization/Robust_Optimization.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> OUCHub
          

          
            
            <img src="../../../../../_static/logo_2.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="åœ¨æ–‡æ¡£ä¸­æœç´¢" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">åŸºç¡€çŸ¥è¯†</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../k_MH.html">ğŸ’Š Math</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../k_CV.html">ğŸ¤ Computer Vision</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../DeepLearning/DeepLearning.html">ğŸ¤ Deep Learning</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../LocalMethod.html">ğŸ¤ Local Method</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../SfM/SfM.html">1. Structure from Motion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Robust_Optimization/Robust_Optimization.html">2. Robust Optimization in 3D Vision</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3. ä¸‰ç»´é‡å»ºä¸­çš„æ—‹è½¬</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">3.1. æ—‹è½¬çŸ©é˜µ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">3.2. æç¾¤å’Œæä»£æ•°</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id4">3.2.1. æ—‹è½¬ç©ºé—´ä¸Šçš„æä»£æ•°æ¨å¯¼</a></li>
<li class="toctree-l5"><a class="reference internal" href="#so-3">3.2.2. æä»£æ•°SOï¼ˆ3ï¼‰</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id5">3.2.3. æ¨å¯¼æŒ‡æ•°æ˜ å°„</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id6">3.3. å››å…ƒæ•°</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id7">3.3.1. å››å…ƒæ•°çš„è¿ç®—</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id8">3.3.2. å››å…ƒæ•°è¡¨ç¤ºæ—‹è½¬</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id9">3.4. æ—‹è½¬çŸ©é˜µã€è§’è½´è¡¨ç¤ºæ³•ã€å››å…ƒæ•°ä¹‹é—´çš„è½¬æ¢</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id10">3.4.1. æ—‹è½¬çŸ©é˜µä¸å››å…ƒæ•°</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../BundleAdjustment/BundleAdjustment.html">4. Bundle Adjustment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../MotionAveraging/MotionAveraging.html">5. Motion Averaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../RotationAveraging/RotationAveraging.html">6. Rotation Averaging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../k_ML.html">ğŸ Machine Learning</a></li>
</ul>
<p class="caption"><span class="caption-text">è®ºæ–‡å­¦ä¹ </span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../paper/p_sfm.html">ğŸŠ Structure from Motion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../paper/p_pointcloud.html">ğŸ‹ Point Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../paper/p_others.html">ğŸ’ Others</a></li>
</ul>
<p class="caption"><span class="caption-text">æºç è§£æ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../code/colmap.html">ğŸ‘ Colmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../code/theiasfm.html">ğŸ‘ TheiaSfM</a></li>
</ul>
<p class="caption"><span class="caption-text">æ‚ä¸ƒæ‚å…«</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../others/o_others.html">ğŸº Others</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">OUCHub</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../k_CV.html">ğŸ¤ Computer Vision</a> &raquo;</li>
        
          <li><a href="../LocalMethod.html">ğŸ¤ Local Method</a> &raquo;</li>
        
      <li><span class="section-number">3. </span>ä¸‰ç»´é‡å»ºä¸­çš„æ—‹è½¬</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/pages/knowledge/ComputerVision/LocalMethod/Rotation/Rotation.rst.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1><span class="section-number">3. </span>ä¸‰ç»´é‡å»ºä¸­çš„æ—‹è½¬<a class="headerlink" href="#id1" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h1>
<div class="admonition attention">
<p class="admonition-title">æ³¨æ„</p>
<p>æœ¬ç¯‡è½¬è½½è‡ª ğŸ‘‰  <a class="reference external" href="https://zhuanlan.zhihu.com/p/62665006">ã€Šä¸‰ç»´é‡å»ºä¸­çš„æ—‹è½¬(Rotation)ã€‹</a></p>
</div>
<div class="section" id="id2">
<h2><span class="section-number">3.1. </span>æ—‹è½¬çŸ©é˜µ<a class="headerlink" href="#id2" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>è®¾æŸä¸ª <strong>å•ä½æ­£äº¤åŸº</strong> <span class="math notranslate nohighlight">\((e_1,e_2,e_3)\)</span> ç»è¿‡ä¸€æ¬¡æ—‹è½¬å˜æˆäº† <span class="math notranslate nohighlight">\((e_1',e_2',e_3')\)</span> ã€‚é‚£ä¹ˆå¯¹äºåŒä¸€ä¸ªå‘é‡ <span class="math notranslate nohighlight">\(a\)</span> ï¼ˆè¯¥å‘é‡æ²¡æœ‰è·Ÿéšåæ ‡ç³»æ—‹è½¬è€Œå‘ç”Ÿè¿åŠ¨ï¼‰ï¼Œ
å®ƒåœ¨ä¸¤ä¸ªåæ ‡ç³»ä¸‹çš„åæ ‡ä¸º <span class="math notranslate nohighlight">\((a_1,a_2,a_3)^T\)</span> å’Œ  <span class="math notranslate nohighlight">\((a_1â€˜,a_2â€™,a_3â€˜)^T\)</span></p>
<p>ç”±åæ ‡çš„å®šä¹‰ï¼Œæœ‰ï¼š</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{split}\left[\begin{matrix}e_1 &amp; e_2 &amp; e_3\end{matrix}\right]\left[\begin{matrix}a_1\\a_2\\a_3\end{matrix}\right]=
\left[\begin{matrix}e_1' &amp; e_2' &amp; e_3'\end{matrix}\right]\left[\begin{matrix}a_1'\\a_2'\\a_3'\end{matrix}\right]\end{split}\\:label: eq:1\end{aligned}\end{align} \]</div>
<p>ä¸ºäº†æè¿°ä¸¤ä¸ªåæ ‡ä¹‹é—´çš„å…³ç³»ï¼Œä¸Šå¼ä¸¤è¾¹åŒæ—¶ä¹˜ <span class="math notranslate nohighlight">\((e_1^T,e_2^T,e_3^T)^T\)</span> ï¼Œåˆ™æœ‰ï¼š</p>
<div class="math notranslate nohighlight">
\[\begin{split}\left[
\begin{matrix}
a_1\\a_2\\a_3
\end{matrix}
\right] = \left[
\begin{matrix}
e_1^Te_1' &amp; e_1^Te_2' &amp; e_1^Te_3'\\
e_2^Te_1' &amp; e_2^Te_2' &amp; e_2^Te_3'\\
e_3^Te_1' &amp; e_3^Te_2' &amp; e_3^Te_3'\\
\end{matrix}
\right]\left[
\begin{matrix}
a_1'\\a_2'\\a_3'
\end{matrix}
\right] = Ra'\end{split}\]</div>
<p>å…¶ä¸­ <span class="math notranslate nohighlight">\(R\)</span> ä¸ºæ—‹è½¬çŸ©é˜µï¼Œæ—‹è½¬çŸ©é˜µçš„é›†åˆå®šä¹‰ä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[SO(n) = \{R \in \mathbb{R}^{n\times n} |RR^T = I,det(R) = I\}\]</div>
<p>ç”±äºæ—‹è½¬çŸ©é˜µæ˜¯æ­£äº¤é˜µï¼Œå®ƒçš„é€†ï¼ˆè½¬ç½®ï¼‰æè¿°äº†ç›¸åçš„æ—‹è½¬ï¼Œåˆ™æœ‰ <span class="math notranslate nohighlight">\(a' = R^{-1}a = R^Ta\)</span>ï¼Œå³ <span class="math notranslate nohighlight">\(R^T\)</span> ä¸ºç›¸åçš„æ—‹è½¬ã€‚</p>
</div>
<div class="section" id="id3">
<h2><span class="section-number">3.2. </span>æç¾¤å’Œæä»£æ•°<a class="headerlink" href="#id3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<div class="section" id="id4">
<h3><span class="section-number">3.2.1. </span>æ—‹è½¬ç©ºé—´ä¸Šçš„æä»£æ•°æ¨å¯¼<a class="headerlink" href="#id4" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>è®¾ <span class="math notranslate nohighlight">\(R\)</span> æ˜¯æŸä¸ªç›¸æœºçš„æ—‹è½¬ï¼Œéšæ—¶é—´è€Œè¿ç»­å˜æ¢ï¼Œå³ <span class="math notranslate nohighlight">\(R\)</span> ä¸ºå…³äºæ—¶é—´ <span class="math notranslate nohighlight">\(t\)</span> çš„å‡½æ•° <span class="math notranslate nohighlight">\(R(t)\)</span> ã€‚ç”±äº <span class="math notranslate nohighlight">\(R\)</span> æ˜¯æ­£äº¤é˜µï¼Œåˆ™æœ‰ï¼š</p>
<div class="math notranslate nohighlight">
\[R(t)R(t)^T = I\]</div>
<p>ç­‰å¼ä¸¤è¾¹å¯¹ <span class="math notranslate nohighlight">\(t\)</span> æ±‚å¯¼ï¼Œåˆ™æœ‰ <span class="math notranslate nohighlight">\(\frac{\partial{R(t)}}{\partial t} R(t)^T + R(t) \frac{\partial R(t)^T}{\partial t} = 0\)</span> æ•´ç†å¯å¾—ï¼š</p>
<div class="math notranslate nohighlight">
\[\frac{\partial{R(t)}}{\partial t} R(t)^T = -R(t) \frac{\partial R(t)^T}{\partial t} = -R(t)\frac{\partial R(t)^T}{\partial t} = -(\frac{\partial R(t)}{\partial t}R(t)^T)^T\]</div>
<p>ç”±ä¸Šå¼å¯ä»¥çœ‹å‡º <span class="math notranslate nohighlight">\(\frac{\partial R(t)}{\partial t} R(t)^T\)</span> æ˜¯ä¸€ä¸ªåå¯¹ç§°çŸ©é˜µï¼ˆ <span class="math notranslate nohighlight">\(A = -A^T\)</span>ï¼‰</p>
<p>è€Œå¯¹äºåå¯¹ç§°çŸ©é˜µï¼Œæ€»èƒ½æ‰¾åˆ°ä¸€ä¸ªä¸‰ç»´å‘é‡ <span class="math notranslate nohighlight">\(w\)</span> ä¸ä¹‹å¯¹åº”ã€‚ ä¸€èˆ¬çš„ï¼Œ <span class="math notranslate nohighlight">\(w = [w_1,w_2,w_3]\)</span> æ˜¯ä¸€ä¸ªä¸‰çŸ¢é‡ï¼Œä»¤ <span class="math notranslate nohighlight">\([w]_x\)</span> è¡¨ç¤ºå‘é‡åˆ°åå¯¹ç§°é˜µçš„å˜æ¢ã€‚ å› æ­¤æœ‰ï¼š</p>
<div class="math notranslate nohighlight">
\[\frac{\partial R(t)}{\partial t} R^T = [w]_x\]</div>
<p>å¯¹ä¸Šé¢çš„å…¬å¼ï¼Œå·¦å³åŒæ—¶å³ä¹˜ <span class="math notranslate nohighlight">\(R(t)\)</span> å¯å¾—</p>
<div class="math notranslate nohighlight">
\[\frac{\partial R(t)}{\partial t} = [w]_x R(t)\]</div>
<p>ä¸Šé¢çš„å…¬å¼æ˜¯å½¢å¦‚ <span class="math notranslate nohighlight">\(\frac{dy}{dx} = ay\)</span> çš„å¸¸å¾®åˆ†æ–¹ç¨‹ï¼Œå¯¹æ–¹ç¨‹ä¸¤è¾¹åŒæ—¶å–å€’æ•°ï¼Œæœ‰ <span class="math notranslate nohighlight">\(\frac{dx}{dy} = \frac{1}{ay}\)</span> ã€‚æ˜¾ç„¶ <span class="math notranslate nohighlight">\(dx = \frac{1}{y} dy\)</span> çš„è§£ä¸º <span class="math notranslate nohighlight">\(x = ln~ay\)</span> è¿›ä¸€æ­¥å¯å¾— <span class="math notranslate nohighlight">\(y = e^{ax}\)</span> ã€‚å°†ä¸Šé¢çš„å…¬å¼ä»£å…¥å¯å¾—</p>
<div class="math notranslate nohighlight">
\[R(t) = R(0)e^{[w]_x~t} = R(0)e^{[wt]_x}\]</div>
<p>å‡è®¾ <span class="math notranslate nohighlight">\(R(0) = I\)</span> ï¼Œåœ¨ç»è¿‡äº† <span class="math notranslate nohighlight">\(\Delta t\)</span> çš„æ—¶é—´ä¹‹åï¼Œæ­¤æ—¶å®šä¹‰å‘é‡ <span class="math notranslate nohighlight">\(v \triangleq w \Delta t\)</span> ï¼Œåˆ™å¯ä»¥å¾—åˆ°ï¼š</p>
<div class="math notranslate nohighlight">
\[R = e^{[v]_x}\]</div>
<p>ä¸Šå¼ä¸­çš„ <span class="math notranslate nohighlight">\(v\)</span> å°±æ˜¯è½¬æ¢å¾—åˆ°çš„ä¸‰ç»´æ—‹è½¬å‘é‡ï¼Œåˆåæ—‹è½¬çš„è½´è§’è¡¨ç¤ºã€‚</p>
<ul class="simple">
<li><p>æ—‹è½¬å‘é‡çš„æ¨¡è¡¨ç¤ºç‰©ä½“ç»•è½´é€†æ—¶é’ˆæ—‹è½¬çš„è§’åº¦ï¼Œç­‰äºæ¬§æ‹‰è§’ã€‚</p></li>
<li><p>æ—‹è½¬è½´å°±æ˜¯æ—‹è½¬å‘é‡é™¤ä»¥æ¨¡åçš„å•ä½å‘é‡ã€‚</p></li>
</ul>
<p>ä»¤æ—‹è½¬å‘é‡ä¸º <span class="math notranslate nohighlight">\(v = (v_x, v_y, v_z)^T\)</span> ï¼Œåˆ™æ—‹è½¬è§’ä¸º <span class="math notranslate nohighlight">\(\theta = norm(v)\)</span> ï¼Œæ—‹è½¬è½´ä¸º <span class="math notranslate nohighlight">\(n = v / \theta\)</span></p>
<p><strong>åŸºäºæ—‹è½¬å‘é‡çš„çŸ©é˜µæ–¹ç¨‹</strong></p>
<p>æ ¹æ®å…¬å¼ <span class="math notranslate nohighlight">\(R_{ij} = R_jR_i^{-1} \)</span> å¯ä»¥ç”¨æ—‹è½¬å‘é‡ <span class="math notranslate nohighlight">\(v\)</span> è¡¨ç¤ºå…¨å±€æ—‹è½¬å’Œç›¸å¯¹æ—‹è½¬ä¹‹é—´çš„å…³ç³»ï¼š</p>
<div class="math notranslate nohighlight">
\[e^{ [v_{ij}]_x } = e^{[v_j]_x} e^{-[v_i]_x}\]</div>
<p>æ ¹æ®åå¯¹ç§°çŸ©é˜µçš„å®šä¹‰ï¼Œå¯ä»¥å¾—åˆ°ï¼š</p>
<div class="math notranslate nohighlight">
\[v_{ij} = v_j - v_i\]</div>
<div class="admonition note">
<p class="admonition-title">æ³¨è§£</p>
<p>å…¶å®ä¸Šé¢å…¬å¼çš„ç¡®åˆ‡å…³ç³»æ˜¯ï¼š <span class="math notranslate nohighlight">\(v_{ij} = BCH(v_j, -v_i)\)</span> ï¼Œå…¶ä¸­ <span class="math notranslate nohighlight">\(BCH(.,.)\)</span> æ˜¯Baker-Campbell-Hausdorffå…¬å¼</p>
<div class="math notranslate nohighlight">
\[BCH(x,y) = x + y + \frac{1}{2}[x,y] + \frac{1}{12}[x-y,[x,y]] + o(|(x,y)|^4)\]</div>
<p>å¦‚æœåªä½¿ç”¨BCHå…¬å¼çš„ä¸€é˜¶ä¼°è®¡ <span class="math notranslate nohighlight">\(BCH(x,y) \approx x + y\)</span> ï¼Œåˆ™</p>
<div class="math notranslate nohighlight">
\[v_{ij} = BCH(v_j, -v_i) = v_j - v_i\]</div>
</div>
<p>å°†ä¸Šå¼è½¬åŒ–ä¸ºçŸ©é˜µçš„è¡¨ç¤ºå½¢å¼ï¼š</p>
<div class="math notranslate nohighlight">
\[v_{ij} = v_j - v_i = [Â·Â·Â·-IÂ·Â·Â·IÂ·Â·Â·] v_{global}\]</div>
<p>å…¶ä¸­ <span class="math notranslate nohighlight">\(v_{global} = [v_1, v_2, Â·Â·Â· , v_N]^T\)</span> æ˜¯ç”±æ‰€æœ‰å…¨å±€æ—‹è½¬å‘é‡ç»„æˆçš„åˆ—å‘é‡ï¼Œå…¶ä¸­ <span class="math notranslate nohighlight">\(N\)</span> è¡¨ç¤ºè§†å›¾ä¸­ç›¸æœºçš„ä¸ªæ•°ã€‚æ­¤æ—¶åˆ—å‡ºæ‰€æœ‰ç›¸æœºå¯¹çš„æ–¹ç¨‹å¹¶è¿›è¡Œæ•´åˆï¼š</p>
<div class="math notranslate nohighlight">
\[A v_{global} = v_{rel}\]</div>
<p>å•Š <span class="math notranslate nohighlight">\(v_rel\)</span> æ˜¯ç”±æ ¹æ®ä¼°è®¡çš„å…¨å±€æ—‹è½¬å¾—åˆ°çš„æ‰€æœ‰çš„ç›¸å¯¹æ—‹è½¬å‘é‡çš„åˆ—å‘é‡ï¼Œ <span class="math notranslate nohighlight">\(v_{rel}^{x}\)</span> æ˜¯ä¸€å¼€å§‹è®¡ç®—å¾—åˆ°çš„ç›¸å¯¹é€‰æ‹©å‘é‡ç»„æˆçš„åˆ—å‘é‡ã€‚</p>
</div>
<div class="section" id="so-3">
<h3><span class="section-number">3.2.2. </span>æä»£æ•°SOï¼ˆ3ï¼‰<a class="headerlink" href="#so-3" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>æç¾¤ <span class="math notranslate nohighlight">\(SO(3)\)</span> å¯¹åº”çš„æä»£æ•°æ˜¯å®šä¹‰åœ¨ <span class="math notranslate nohighlight">\(\mathbb{R}^3\)</span> ä¸Šçš„å‘é‡ï¼Œè®°ä¸º <span class="math notranslate nohighlight">\(w\)</span> ã€‚æ¯ä¸ª <span class="math notranslate nohighlight">\(w\)</span> éƒ½å¯ä»¥ç”Ÿæˆä¸€ä¸ªåå¯¹æ­¤çŸ©é˜µ <span class="math notranslate nohighlight">\(\Phi\)</span></p>
<div class="math notranslate nohighlight">
\[\begin{split}\Phi = [w]_x = \left[
\begin{matrix}
0 &amp; -w_3 &amp; w_2\\w_3 &amp; 0 &amp; -w_1\\-w_2 &amp; w_1 &amp; 0
\end{matrix}
\right] \in \mathbb{R}^{3\times 3}\end{split}\]</div>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œ <span class="math notranslate nohighlight">\(so(3)\)</span> çš„å…ƒç´ æ˜¯ä¸‰ç»´å‘é‡æˆ–è€…ä¸‰ç»´åå¯¹ç§°çŸ©é˜µï¼š</p>
<div class="math notranslate nohighlight">
\[so(3) = \{w \in R, \Phi = [w]_x \in \mathbb{R}^{3\times 3} \}\]</div>
<p>æ€»ç»“ä¸ºï¼š <span class="math notranslate nohighlight">\(so(3)\)</span> æ˜¯ä¸€ä¸ªç”±ä¸‰ç»´å‘é‡ç»„æˆçš„é›†åˆï¼Œæ¯ä¸ªå‘é‡å¯¹åº”åˆ°ä¸€ä¸ªåå¯¹ç§°çŸ©é˜µï¼Œå¯ä»¥è¡¨è¾¾æ—‹è½¬çŸ©é˜µçš„å€’æ•°ã€‚å®ƒä¸ <span class="math notranslate nohighlight">\(so(3)\)</span> çš„å…³ç³»é€šè¿‡æŒ‡æ•°æ˜ å°„ç»™å®šï¼š</p>
<div class="math notranslate nohighlight">
\[R = exp([w]_x)\]</div>
</div>
<div class="section" id="id5">
<h3><span class="section-number">3.2.3. </span>æ¨å¯¼æŒ‡æ•°æ˜ å°„<a class="headerlink" href="#id5" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>ç”±ä¸Šé¢çš„å…¬å¼ <span class="math notranslate nohighlight">\(R = exp([w]_x)\)</span> å¯çŸ¥ï¼Œå…¶ä¸ºä¸€ä¸ªçŸ©é˜µçš„æŒ‡æ•°ï¼Œåœ¨æç¾¤å’Œæä»£æ•°ä¸­ï¼Œç§°ä¸º <strong>æŒ‡æ•°æ˜ å°„</strong> ã€‚</p>
<p>æŒ‡æ•°å‡½æ•°çš„å¹‚çº§æ•°ä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[exp(x) = \sum\limits_{n=0}^\infty \frac{x^n}{n!}\]</div>
<p>åŒæ ·çš„ï¼Œå¯¹äº <span class="math notranslate nohighlight">\(so(3)\)</span> ä¸­çš„ä»»æ„å…ƒç´  <span class="math notranslate nohighlight">\([w]_x\)</span> ï¼ŒæŒ‡æ•°æ˜ å°„ä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[exp([w]_x) = \sum\limits_{n=0}^\infty \frac{([w]_x)^n}{n!}\]</div>
<p>ä»¤ <span class="math notranslate nohighlight">\(w = \theta a\)</span>ï¼Œå…¶ä¸­ <span class="math notranslate nohighlight">\(\theta\)</span> ä¸ºæ–¹å‘ï¼Œ <span class="math notranslate nohighlight">\(a\)</span> ä¸ºé•¿åº¦ä¸º1çš„æ–¹å‘å‘é‡ã€‚å¯¹äº <span class="math notranslate nohighlight">\([a]_x\)</span> ç”±ä¸¤ä¸ªæ€§è´¨ï¼š</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\([a]_x [a]_x = aa^T - I\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\([a]_x [a]_x [a]_x = -[a]_x\)</span></p></li>
</ol>
<p>åˆ©ç”¨è¿™ä¸¤ä¸ªæ€§è´¨ï¼Œå¯ä»¥å°†æŒ‡æ•°æ˜ å°„å†™æˆï¼š</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
exp([w]_x) &amp;=&amp; exp(\theta [a]_x) = \sum\limits_{n = 0}^\infty \frac{(\theta [a]_x)^n}{n!}\\\\
&amp;=&amp; I + \theta[a]_x + \frac{1}{2!} \theta^2 [a]_x [a]_x + \frac{1}{3!} \theta^3 [a]_x [a]_x [a]_x + Â·Â·Â· \\\\
&amp;=&amp; aa^T - [a]_x [a]_x + \theta [a]_x + \frac{1}{2!} \theta^2 ([a]_x)^2 + \frac{1}{3!} \theta^3 ([a]_x)^3 + Â·Â·Â· \\\\
&amp;=&amp; aa^T - [a]_x [a]_x + \theta [a]_x + \frac{1}{2!} \theta^2 ([a]_x)^2 - \frac{1}{3!} \theta^3 [a]_x - \frac{1}{4!}([a]_x)^2 + Â·Â·Â· \\\\
&amp;=&amp; aa^T + (\theta - \frac{1}{3!}\theta^3 + \frac{1}{5!} \theta^5 -Â·Â·Â·)[a]_x - (1-\frac{1}{2!} \theta^2 + \frac{1}{4!}\theta^4 - Â·Â·Â·)([a]_x)^2 \\\\
&amp;=&amp; ([a]_x)^2 + I + [a]_x sin\theta - ([a]_x)^2 cos\theta \\\\
&amp;=&amp; (1 - cos\theta) ([a]_x)^2 + I + [a]_x sin\theta\\\\
&amp;=&amp; cos\theta I + (1-cos\theta) aa^T + [a]_x sin\theta
\end{eqnarray}\end{split}\]</div>
<p>åŒæ ·å¯ä»¥å®šä¹‰ <strong>å¯¹æ•°æ˜ å°„</strong> ï¼ŒæŠŠ <span class="math notranslate nohighlight">\(SO(3)\)</span> ä¸­çš„å…ƒç´ å¯¹åº”åˆ° <span class="math notranslate nohighlight">\(\mathfrak{so}(3)\)</span> ä¸­ï¼š</p>
<div class="math notranslate nohighlight">
\[[w]_x = ln(R)^V = (\sum\limits_{n=0}^\infty \frac{(-1)^n}{n + 1} (R-I)^{n+1})^V\]</div>
<p>ä¸€èˆ¬ä¸ä¼šæŒ‰ç…§æ³°å‹’å±•å¼€è®¡ç®—å¯¹æ•°æ˜ å°„ï¼Œè€Œæ˜¯é€šè¿‡æ—‹è½¬çŸ©é˜µæ¢å¤æä»£æ•°ã€‚</p>
<p>ä»¤è½¬è½´ä¸º <span class="math notranslate nohighlight">\(n\)</span> ï¼Œè½¬è§’ä¸º <span class="math notranslate nohighlight">\(\theta\)</span> ï¼Œ</p>
<p>ï¼ˆ1ï¼‰è®¡ç®—è½¬è§’ <span class="math notranslate nohighlight">\(\theta\)</span> ã€‚å¯¹äºè½¬è§’ <span class="math notranslate nohighlight">\(\theta\)</span> ï¼Œç”±ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼å¯å¾—ï¼š</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
   tr(R) &amp;=&amp; cos(\theta) tr(I) + (1 - cos\theta) tr(n n^T) + sin\theta tr([n]_x) \\\\
   &amp;=&amp; 3cos\theta + (1-cos\theta)\\\\
   &amp;=&amp; 1 + 2cos\theta
\end{eqnarray}\end{split}\]</div>
<p>å› æ­¤ï¼Œ <span class="math notranslate nohighlight">\(\theta = arccos \frac{tr(R) - 1}{2}\)</span></p>
</div></blockquote>
<p>ï¼ˆ2ï¼‰è®¡ç®—è½¬è½´ <span class="math notranslate nohighlight">\(n\)</span> ï¼Œç”±äºæ—‹è½¬è½´ä¸Šçš„å‘é‡åœ¨æ—‹è½¬åä¸å‘ç”Ÿæ”¹å˜ï¼Œæœ‰ <span class="math notranslate nohighlight">\(Rn = n\)</span>ï¼Œå› æ­¤è½¬è½´ <span class="math notranslate nohighlight">\(n\)</span> æ˜¯çŸ©é˜µ <span class="math notranslate nohighlight">\(R\)</span> ç‰¹å¾å€¼ä¸º1 å¯¹åº”çš„ç‰¹å¾å‘é‡ã€‚ æ±‚è§£æ­¤æ–¹ç¨‹å†å½’ä¸€åŒ–å°±å¾—åˆ°äº†è½¬è½´ã€‚</p>
<p>æœ€åæä»£æ•°å¯ä»¥å†™ä¸º <span class="math notranslate nohighlight">\(w = \theta n\)</span></p>
</div>
</div>
<div class="section" id="id6">
<h2><span class="section-number">3.3. </span>å››å…ƒæ•°<a class="headerlink" href="#id6" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<p>å››å…ƒæ•°æ‹¥æœ‰ä¸€ä¸ªå®éƒ¨å’Œä¸‰ä¸ªè™šéƒ¨ï¼Œå¯è¡¨ç¤ºä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[q = (c,v) = (q_0,q_1,q_2,q_3) = q_0 + q_1 i + q_2 j + q_3 k\]</div>
<p>è¿™ä¸‰ä¸ªè™šéƒ¨æ»¡è¶³å¦‚ä¸‹å…³ç³»ï¼š</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align*}
   &amp; i^2 = j^2 = k^2 = -1\\\\
   &amp; ij = k, ji = -k\\\\
   &amp; jk = i, kj = -i\\\\
   &amp; ki = j, ik = -j
\end{align*}\end{split}\]</div>
<div class="section" id="id7">
<h3><span class="section-number">3.3.1. </span>å››å…ƒæ•°çš„è¿ç®—<a class="headerlink" href="#id7" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>è®¾ <span class="math notranslate nohighlight">\(q = (c_1, v_1), q_2 = (c_2, v_2)\)</span> ï¼Œåˆ™ï¼š</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align*}
&amp; q_1 \pm q_2 = (c_1 \pm c_2, v_1 \pm v_2)\\\\
&amp; q_1 Â· q_2 = (c_1c_2 - v_1^Tv_2, c_1v_2 + c_2v_1 + v_1\times v_2)\\\\
&amp; ||q|| = \sqrt{q_0^2 + q_1^2 + q_2^2 + q_3^2}, q^{-1} = \frac{1}{|q|^2}(c, -v)\\\\
&amp; ||q_1Â·q_2|| = ||q_1||Â·||q_2||
\end{align*}\end{split}\]</div>
</div>
<div class="section" id="id8">
<h3><span class="section-number">3.3.2. </span>å››å…ƒæ•°è¡¨ç¤ºæ—‹è½¬<a class="headerlink" href="#id8" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>å‡è®¾æ—‹è½¬ç»•å•ä½å‘é‡ <span class="math notranslate nohighlight">\(n = (n_x, n_y, n_z)^T\)</span> è¿›è¡Œäº†è§’åº¦ä¸º <span class="math notranslate nohighlight">\(\theta\)</span> çš„æ—‹è½¬ï¼Œåˆ™è¯¥æ—‹è½¬çš„å››å…ƒæ•°å®šä¹‰ä¸ºï¼š</p>
<div class="math notranslate nohighlight">
\[q = (cos \frac{\theta}{2}, n_x sin \frac{\theta}{2},  n_y sin \frac{\theta}{2}, n_z sin \frac{\theta}{2})^T\]</div>
<p>ä»¤ <span class="math notranslate nohighlight">\(\theta = \theta + 2\pi\)</span>ï¼Œ åˆ™ <span class="math notranslate nohighlight">\(q =  (-cos \frac{\theta}{2}, -n_x sin \frac{\theta}{2},  -n_y sin \frac{\theta}{2}, -n_z sin \frac{\theta}{2})^T = -q\)</span> ï¼Œå³ <span class="math notranslate nohighlight">\(q\)</span> å’Œ <span class="math notranslate nohighlight">\(-q\)</span> è¡¨ç¤ºåŒä¸€ä¸ªæ—‹è½¬ã€‚</p>
<p>ä»¤ <span class="math notranslate nohighlight">\(v = (n_x, n_y, n_z), ~ w = \theta v\)</span> åˆ™ <span class="math notranslate nohighlight">\(R = exp([w]_x)\)</span></p>
</div>
</div>
<div class="section" id="id9">
<h2><span class="section-number">3.4. </span>æ—‹è½¬çŸ©é˜µã€è§’è½´è¡¨ç¤ºæ³•ã€å››å…ƒæ•°ä¹‹é—´çš„è½¬æ¢<a class="headerlink" href="#id9" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h2>
<div class="section" id="id10">
<h3><span class="section-number">3.4.1. </span>æ—‹è½¬çŸ©é˜µä¸å››å…ƒæ•°<a class="headerlink" href="#id10" title="æ°¸ä¹…é“¾æ¥è‡³æ ‡é¢˜">Â¶</a></h3>
<p>å››å…ƒæ•°-&gt;æ—‹è½¬çŸ©é˜µ</p>
<p>é€šè¿‡3.2èŠ‚</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../BundleAdjustment/BundleAdjustment.html" class="btn btn-neutral float-right" title="4. Bundle Adjustment" accesskey="n" rel="next">ä¸‹ä¸€é¡µ <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../Robust_Optimization/Robust_Optimization.html" class="btn btn-neutral float-left" title="2. Robust Optimization in 3D Vision" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> ä¸Šä¸€é¡µ</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; ç‰ˆæƒæ‰€æœ‰ 2021, linzzz.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>